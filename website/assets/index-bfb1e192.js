var $r=Object.defineProperty;var Kr=(t,e,s)=>e in t?$r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var T=(t,e,s)=>(Kr(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();function Qs(t,e){const s=new Set(t.split(","));return e?n=>s.has(n.toLowerCase()):n=>s.has(n)}const V={},rt=[],fe=()=>{},Dr=()=>!1,es=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Zs=t=>t.startsWith("onUpdate:"),ne=Object.assign,en=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Ur=Object.prototype.hasOwnProperty,L=(t,e)=>Ur.call(t,e),k=Array.isArray,ot=t=>ts(t)==="[object Map]",xi=t=>ts(t)==="[object Set]",S=t=>typeof t=="function",J=t=>typeof t=="string",ht=t=>typeof t=="symbol",j=t=>t!==null&&typeof t=="object",Ti=t=>(j(t)||S(t))&&S(t.then)&&S(t.catch),Oi=Object.prototype.toString,ts=t=>Oi.call(t),qr=t=>ts(t).slice(8,-1),Ai=t=>ts(t)==="[object Object]",tn=t=>J(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ht=Qs(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ss=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Vr=/-(\w)/g,Se=ss(t=>t.replace(Vr,(e,s)=>s?s.toUpperCase():"")),Hr=/\B([A-Z])/g,dt=ss(t=>t.replace(Hr,"-$1").toLowerCase()),ns=ss(t=>t.charAt(0).toUpperCase()+t.slice(1)),ws=ss(t=>t?`on${ns(t)}`:""),Ze=(t,e)=>!Object.is(t,e),bs=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},zt=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},Wr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Bn;const Ri=()=>Bn||(Bn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function sn(t){if(k(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=J(n)?Jr(n):sn(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(J(t)||j(t))return t}const jr=/;(?![^(]*\))/g,Yr=/:([^]+)/,Gr=/\/\*[^]*?\*\//g;function Jr(t){const e={};return t.replace(Gr,"").split(jr).forEach(s=>{if(s){const n=s.split(Yr);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function at(t){let e="";if(J(t))e=t;else if(k(t))for(let s=0;s<t.length;s++){const n=at(t[s]);n&&(e+=n+" ")}else if(j(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const zr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xr=Qs(zr);function ki(t){return!!t||t===""}const Qr=t=>J(t)?t:t==null?"":k(t)||j(t)&&(t.toString===Oi||!S(t.toString))?JSON.stringify(t,Si,2):String(t),Si=(t,e)=>e&&e.__v_isRef?Si(t,e.value):ot(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],r)=>(s[vs(n,r)+" =>"]=i,s),{})}:xi(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>vs(s))}:ht(e)?vs(e):j(e)&&!k(e)&&!Ai(e)?String(e):e,vs=(t,e="")=>{var s;return ht(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};let ye;class Zr{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ye,!e&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=ye;try{return ye=this,e()}finally{ye=s}}}on(){ye=this}off(){ye=this.parent}stop(e){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function eo(t,e=ye){e&&e.active&&e.effects.push(t)}function to(){return ye}let ze;class nn{constructor(e,s,n,i){this.fn=e,this.trigger=s,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=3,this._trackId=0,this._runnings=0,this._queryings=0,this._depsLength=0,eo(this,i)}get dirty(){if(this._dirtyLevel===1){this._dirtyLevel=0,this._queryings++,et();for(const e of this.deps)if(e.computed&&(so(e.computed),this._dirtyLevel>=2))break;tt(),this._queryings--}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?3:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=De,s=ze;try{return De=!0,ze=this,this._runnings++,Fn(this),this.fn()}finally{$n(this),this._runnings--,ze=s,De=e}}stop(){var e;this.active&&(Fn(this),$n(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function so(t){return t.value}function Fn(t){t._trackId++,t._depsLength=0}function $n(t){if(t.deps&&t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Pi(t.deps[e],t);t.deps.length=t._depsLength}}function Pi(t,e){const s=t.get(e);s!==void 0&&e._trackId!==s&&(t.delete(e),t.size===0&&t.cleanup())}let De=!0,Ms=0;const Mi=[];function et(){Mi.push(De),De=!1}function tt(){const t=Mi.pop();De=t===void 0?!0:t}function rn(){Ms++}function on(){for(Ms--;!Ms&&Is.length;)Is.shift()()}function Ii(t,e,s){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&Pi(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Is=[];function Li(t,e,s){rn();for(const n of t.keys())if(!(!n.allowRecurse&&n._runnings)&&n._dirtyLevel<e&&(!n._runnings||e!==2)){const i=n._dirtyLevel;n._dirtyLevel=e,i===0&&(!n._queryings||e!==2)&&(n.trigger(),n.scheduler&&Is.push(n.scheduler))}on()}const Ni=(t,e)=>{const s=new Map;return s.cleanup=t,s.computed=e,s},Ls=new WeakMap,Xe=Symbol(""),Ns=Symbol("");function ae(t,e,s){if(De&&ze){let n=Ls.get(t);n||Ls.set(t,n=new Map);let i=n.get(s);i||n.set(s,i=Ni(()=>n.delete(s))),Ii(ze,i)}}function Ne(t,e,s,n,i,r){const o=Ls.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(s==="length"&&k(t)){const c=Number(n);o.forEach((f,d)=>{(d==="length"||!ht(d)&&d>=c)&&l.push(f)})}else switch(s!==void 0&&l.push(o.get(s)),e){case"add":k(t)?tn(s)&&l.push(o.get("length")):(l.push(o.get(Xe)),ot(t)&&l.push(o.get(Ns)));break;case"delete":k(t)||(l.push(o.get(Xe)),ot(t)&&l.push(o.get(Ns)));break;case"set":ot(t)&&l.push(o.get(Xe));break}rn();for(const c of l)c&&Li(c,3);on()}const no=Qs("__proto__,__v_isRef,__isVue"),Bi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ht)),Kn=io();function io(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const n=F(this);for(let r=0,o=this.length;r<o;r++)ae(n,"get",r+"");const i=n[e](...s);return i===-1||i===!1?n[e](...s.map(F)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){et(),rn();const n=F(this)[e].apply(this,s);return on(),tt(),n}}),t}function ro(t){const e=F(this);return ae(e,"has",t),e.hasOwnProperty(t)}class Fi{constructor(e=!1,s=!1){this._isReadonly=e,this._shallow=s}get(e,s,n){const i=this._isReadonly,r=this._shallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?wo:Ui:r?Di:Ki).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=k(e);if(!i){if(o&&L(Kn,s))return Reflect.get(Kn,s,n);if(s==="hasOwnProperty")return ro}const l=Reflect.get(e,s,n);return(ht(s)?Bi.has(s):no(s))||(i||ae(e,"get",s),r)?l:he(l)?o&&tn(s)?l:l.value:j(l)?i?qi(l):an(l):l}}class $i extends Fi{constructor(e=!1){super(!1,e)}set(e,s,n,i){let r=e[s];if(!this._shallow){const c=Ot(r);if(!Bs(n)&&!Ot(n)&&(r=F(r),n=F(n)),!k(e)&&he(r)&&!he(n))return c?!1:(r.value=n,!0)}const o=k(e)&&tn(s)?Number(s)<e.length:L(e,s),l=Reflect.set(e,s,n,i);return e===F(i)&&(o?Ze(n,r)&&Ne(e,"set",s,n):Ne(e,"add",s,n)),l}deleteProperty(e,s){const n=L(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&Ne(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!ht(s)||!Bi.has(s))&&ae(e,"has",s),n}ownKeys(e){return ae(e,"iterate",k(e)?"length":Xe),Reflect.ownKeys(e)}}class oo extends Fi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const lo=new $i,co=new oo,ao=new $i(!0),ln=t=>t,is=t=>Reflect.getPrototypeOf(t);function Lt(t,e,s=!1,n=!1){t=t.__v_raw;const i=F(t),r=F(e);s||(Ze(e,r)&&ae(i,"get",e),ae(i,"get",r));const{has:o}=is(i),l=n?ln:s?hn:fn;if(o.call(i,e))return l(t.get(e));if(o.call(i,r))return l(t.get(r));t!==i&&t.get(e)}function Nt(t,e=!1){const s=this.__v_raw,n=F(s),i=F(t);return e||(Ze(t,i)&&ae(n,"has",t),ae(n,"has",i)),t===i?s.has(t):s.has(t)||s.has(i)}function Bt(t,e=!1){return t=t.__v_raw,!e&&ae(F(t),"iterate",Xe),Reflect.get(t,"size",t)}function Dn(t){t=F(t);const e=F(this);return is(e).has.call(e,t)||(e.add(t),Ne(e,"add",t,t)),this}function Un(t,e){e=F(e);const s=F(this),{has:n,get:i}=is(s);let r=n.call(s,t);r||(t=F(t),r=n.call(s,t));const o=i.call(s,t);return s.set(t,e),r?Ze(e,o)&&Ne(s,"set",t,e):Ne(s,"add",t,e),this}function qn(t){const e=F(this),{has:s,get:n}=is(e);let i=s.call(e,t);i||(t=F(t),i=s.call(e,t)),n&&n.call(e,t);const r=e.delete(t);return i&&Ne(e,"delete",t,void 0),r}function Vn(){const t=F(this),e=t.size!==0,s=t.clear();return e&&Ne(t,"clear",void 0,void 0),s}function Ft(t,e){return function(n,i){const r=this,o=r.__v_raw,l=F(o),c=e?ln:t?hn:fn;return!t&&ae(l,"iterate",Xe),o.forEach((f,d)=>n.call(i,c(f),c(d),r))}}function $t(t,e,s){return function(...n){const i=this.__v_raw,r=F(i),o=ot(r),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,f=i[t](...n),d=s?ln:e?hn:fn;return!e&&ae(r,"iterate",c?Ns:Xe),{next(){const{value:w,done:C}=f.next();return C?{value:w,done:C}:{value:l?[d(w[0]),d(w[1])]:d(w),done:C}},[Symbol.iterator](){return this}}}}function Fe(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function uo(){const t={get(r){return Lt(this,r)},get size(){return Bt(this)},has:Nt,add:Dn,set:Un,delete:qn,clear:Vn,forEach:Ft(!1,!1)},e={get(r){return Lt(this,r,!1,!0)},get size(){return Bt(this)},has:Nt,add:Dn,set:Un,delete:qn,clear:Vn,forEach:Ft(!1,!0)},s={get(r){return Lt(this,r,!0)},get size(){return Bt(this,!0)},has(r){return Nt.call(this,r,!0)},add:Fe("add"),set:Fe("set"),delete:Fe("delete"),clear:Fe("clear"),forEach:Ft(!0,!1)},n={get(r){return Lt(this,r,!0,!0)},get size(){return Bt(this,!0)},has(r){return Nt.call(this,r,!0)},add:Fe("add"),set:Fe("set"),delete:Fe("delete"),clear:Fe("clear"),forEach:Ft(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=$t(r,!1,!1),s[r]=$t(r,!0,!1),e[r]=$t(r,!1,!0),n[r]=$t(r,!0,!0)}),[t,s,e,n]}const[fo,ho,po,go]=uo();function cn(t,e){const s=e?t?go:po:t?ho:fo;return(n,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(L(s,i)&&i in n?s:n,i,r)}const mo={get:cn(!1,!1)},yo={get:cn(!1,!0)},_o={get:cn(!0,!1)},Ki=new WeakMap,Di=new WeakMap,Ui=new WeakMap,wo=new WeakMap;function bo(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vo(t){return t.__v_skip||!Object.isExtensible(t)?0:bo(qr(t))}function an(t){return Ot(t)?t:un(t,!1,lo,mo,Ki)}function Co(t){return un(t,!1,ao,yo,Di)}function qi(t){return un(t,!0,co,_o,Ui)}function un(t,e,s,n,i){if(!j(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=vo(t);if(o===0)return t;const l=new Proxy(t,o===2?n:s);return i.set(t,l),l}function lt(t){return Ot(t)?lt(t.__v_raw):!!(t&&t.__v_isReactive)}function Ot(t){return!!(t&&t.__v_isReadonly)}function Bs(t){return!!(t&&t.__v_isShallow)}function Vi(t){return lt(t)||Ot(t)}function F(t){const e=t&&t.__v_raw;return e?F(e):t}function Hi(t){return zt(t,"__v_skip",!0),t}const fn=t=>j(t)?an(t):t,hn=t=>j(t)?qi(t):t;class Wi{constructor(e,s,n,i){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new nn(()=>e(this._value),()=>Hn(this,1)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=F(this);return xo(e),(!e._cacheable||e.effect.dirty)&&Ze(e._value,e._value=e.effect.run())&&Hn(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Eo(t,e,s=!1){let n,i;const r=S(t);return r?(n=t,i=fe):(n=t.get,i=t.set),new Wi(n,i,r||!i,s)}function xo(t){De&&ze&&(t=F(t),Ii(ze,t.dep||(t.dep=Ni(()=>t.dep=void 0,t instanceof Wi?t:void 0))))}function Hn(t,e=3,s){t=F(t);const n=t.dep;n&&Li(n,e)}function he(t){return!!(t&&t.__v_isRef===!0)}function To(t){return he(t)?t.value:t}const Oo={get:(t,e,s)=>To(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return he(i)&&!he(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function ji(t){return lt(t)?t:new Proxy(t,Oo)}function Ue(t,e,s,n){let i;try{i=n?t(...n):t()}catch(r){rs(r,e,s)}return i}function ve(t,e,s,n){if(S(t)){const r=Ue(t,e,s,n);return r&&Ti(r)&&r.catch(o=>{rs(o,e,s)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(ve(t[r],e,s,n));return i}function rs(t,e,s,n=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,l=`https://vuejs.org/errors/#runtime-${s}`;for(;r;){const f=r.ec;if(f){for(let d=0;d<f.length;d++)if(f[d](t,o,l)===!1)return}r=r.parent}const c=e.appContext.config.errorHandler;if(c){Ue(c,null,10,[t,o,l]);return}}Ao(t,s,i,n)}function Ao(t,e,s,n=!0){console.error(t)}let At=!1,Fs=!1;const ee=[];let Re=0;const ct=[];let Le=null,Ge=0;const Yi=Promise.resolve();let dn=null;function Ro(t){const e=dn||Yi;return t?e.then(this?t.bind(this):t):e}function ko(t){let e=Re+1,s=ee.length;for(;e<s;){const n=e+s>>>1,i=ee[n],r=Rt(i);r<t||r===t&&i.pre?e=n+1:s=n}return e}function pn(t){(!ee.length||!ee.includes(t,At&&t.allowRecurse?Re+1:Re))&&(t.id==null?ee.push(t):ee.splice(ko(t.id),0,t),Gi())}function Gi(){!At&&!Fs&&(Fs=!0,dn=Yi.then(zi))}function So(t){const e=ee.indexOf(t);e>Re&&ee.splice(e,1)}function Po(t){k(t)?ct.push(...t):(!Le||!Le.includes(t,t.allowRecurse?Ge+1:Ge))&&ct.push(t),Gi()}function Wn(t,e,s=At?Re+1:0){for(;s<ee.length;s++){const n=ee[s];if(n&&n.pre){if(t&&n.id!==t.uid)continue;ee.splice(s,1),s--,n()}}}function Ji(t){if(ct.length){const e=[...new Set(ct)];if(ct.length=0,Le){Le.push(...e);return}for(Le=e,Le.sort((s,n)=>Rt(s)-Rt(n)),Ge=0;Ge<Le.length;Ge++)Le[Ge]();Le=null,Ge=0}}const Rt=t=>t.id==null?1/0:t.id,Mo=(t,e)=>{const s=Rt(t)-Rt(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function zi(t){Fs=!1,At=!0,ee.sort(Mo);const e=fe;try{for(Re=0;Re<ee.length;Re++){const s=ee[Re];s&&s.active!==!1&&Ue(s,null,14)}}finally{Re=0,ee.length=0,Ji(),At=!1,dn=null,(ee.length||ct.length)&&zi()}}function Io(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||V;let i=s;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in n){const d=`${o==="modelValue"?"model":o}Modifiers`,{number:w,trim:C}=n[d]||V;C&&(i=s.map(A=>J(A)?A.trim():A)),w&&(i=s.map(Wr))}let l,c=n[l=ws(e)]||n[l=ws(Se(e))];!c&&r&&(c=n[l=ws(dt(e))]),c&&ve(c,t,6,i);const f=n[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ve(f,t,6,i)}}function Xi(t,e,s=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!S(t)){const c=f=>{const d=Xi(f,e,!0);d&&(l=!0,ne(o,d))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!r&&!l?(j(t)&&n.set(t,null),null):(k(r)?r.forEach(c=>o[c]=null):ne(o,r),j(t)&&n.set(t,o),o)}function os(t,e){return!t||!es(e)?!1:(e=e.slice(2).replace(/Once$/,""),L(t,e[0].toLowerCase()+e.slice(1))||L(t,dt(e))||L(t,e))}let se=null,ls=null;function Xt(t){const e=se;return se=t,ls=t&&t.type.__scopeId||null,e}function Lo(t){ls=t}function No(){ls=null}function Qi(t,e=se,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&si(-1);const r=Xt(e);let o;try{o=t(...i)}finally{Xt(r),n._d&&si(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Cs(t){const{type:e,vnode:s,proxy:n,withProxy:i,props:r,propsOptions:[o],slots:l,attrs:c,emit:f,render:d,renderCache:w,data:C,setupState:A,ctx:D,inheritAttrs:B}=t;let z,G;const Ce=Xt(t);try{if(s.shapeFlag&4){const X=i||n,de=X;z=Ae(d.call(de,X,w,r,A,C,D)),G=c}else{const X=e;z=Ae(X.length>1?X(r,{attrs:c,slots:l,emit:f}):X(r,null)),G=e.props?c:Bo(c)}}catch(X){xt.length=0,rs(X,t,1),z=ge(qe)}let U=z;if(G&&B!==!1){const X=Object.keys(G),{shapeFlag:de}=U;X.length&&de&7&&(o&&X.some(Zs)&&(G=Fo(G,o)),U=ut(U,G))}return s.dirs&&(U=ut(U),U.dirs=U.dirs?U.dirs.concat(s.dirs):s.dirs),s.transition&&(U.transition=s.transition),z=U,Xt(Ce),z}const Bo=t=>{let e;for(const s in t)(s==="class"||s==="style"||es(s))&&((e||(e={}))[s]=t[s]);return e},Fo=(t,e)=>{const s={};for(const n in t)(!Zs(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function $o(t,e,s){const{props:n,children:i,component:r}=t,{props:o,children:l,patchFlag:c}=e,f=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return n?jn(n,o,f):!!o;if(c&8){const d=e.dynamicProps;for(let w=0;w<d.length;w++){const C=d[w];if(o[C]!==n[C]&&!os(f,C))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?jn(n,o,f):!0:!!o;return!1}function jn(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r]&&!os(s,r))return!0}return!1}function Ko({vnode:t,parent:e},s){if(s)for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const Zi="components";function $s(t,e){return Uo(Zi,t,!0,e)||t}const Do=Symbol.for("v-ndc");function Uo(t,e,s=!0,n=!1){const i=se||te;if(i){const r=i.type;if(t===Zi){const l=Fl(r,!1);if(l&&(l===e||l===Se(e)||l===ns(Se(e))))return r}const o=Yn(i[t]||r[t],e)||Yn(i.appContext[t],e);return!o&&n?r:o}}function Yn(t,e){return t&&(t[e]||t[Se(e)]||t[ns(Se(e))])}const qo=t=>t.__isSuspense;function Vo(t,e){e&&e.pendingBranch?k(t)?e.effects.push(...t):e.effects.push(t):Po(t)}const Ho=Symbol.for("v-scx"),Wo=()=>Wt(Ho),Kt={};function Es(t,e,s){return er(t,e,s)}function er(t,e,{immediate:s,deep:n,flush:i,once:r,onTrack:o,onTrigger:l}=V){if(e&&r){const N=e;e=(...Me)=>{N(...Me),de()}}const c=te,f=N=>n===!0?N:Je(N,n===!1?1:void 0);let d,w=!1,C=!1;if(he(t)?(d=()=>t.value,w=Bs(t)):lt(t)?(d=()=>f(t),w=!0):k(t)?(C=!0,w=t.some(N=>lt(N)||Bs(N)),d=()=>t.map(N=>{if(he(N))return N.value;if(lt(N))return f(N);if(S(N))return Ue(N,c,2)})):S(t)?e?d=()=>Ue(t,c,2):d=()=>(A&&A(),ve(t,c,3,[D])):d=fe,e&&n){const N=d;d=()=>Je(N())}let A,D=N=>{A=U.onStop=()=>{Ue(N,c,4),A=U.onStop=void 0}},B;if(fs)if(D=fe,e?s&&ve(e,c,3,[d(),C?[]:void 0,D]):d(),i==="sync"){const N=Wo();B=N.__watcherHandles||(N.__watcherHandles=[])}else return fe;let z=C?new Array(t.length).fill(Kt):Kt;const G=()=>{if(!(!U.active||!U.dirty))if(e){const N=U.run();(n||w||(C?N.some((Me,Ee)=>Ze(Me,z[Ee])):Ze(N,z)))&&(A&&A(),ve(e,c,3,[N,z===Kt?void 0:C&&z[0]===Kt?[]:z,D]),z=N)}else U.run()};G.allowRecurse=!!e;let Ce;i==="sync"?Ce=G:i==="post"?Ce=()=>le(G,c&&c.suspense):(G.pre=!0,c&&(G.id=c.uid),Ce=()=>pn(G));const U=new nn(d,fe,Ce),X=to(),de=()=>{U.stop(),X&&en(X.effects,U)};return e?s?G():z=U.run():i==="post"?le(U.run.bind(U),c&&c.suspense):U.run(),B&&B.push(de),de}function jo(t,e,s){const n=this.proxy,i=J(t)?t.includes(".")?tr(n,t):()=>n[t]:t.bind(n,n);let r;S(e)?r=e:(r=e.handler,s=e);const o=te;ft(this);const l=er(i,r.bind(n),s);return o?ft(o):Qe(),l}function tr(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}function Je(t,e,s=0,n){if(!j(t)||t.__v_skip)return t;if(e&&e>0){if(s>=e)return t;s++}if(n=n||new Set,n.has(t))return t;if(n.add(t),he(t))Je(t.value,e,s,n);else if(k(t))for(let i=0;i<t.length;i++)Je(t[i],e,s,n);else if(xi(t)||ot(t))t.forEach(i=>{Je(i,e,s,n)});else if(Ai(t))for(const i in t)Je(t[i],e,s,n);return t}function Yo(t,e){const s=se;if(s===null)return t;const n=hs(s)||s.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,l,c,f=V]=e[r];o&&(S(o)&&(o={mounted:o,updated:o}),o.deep&&Je(l),i.push({dir:o,instance:n,value:l,oldValue:void 0,arg:c,modifiers:f}))}return t}function je(t,e,s,n){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let c=l.dir[n];c&&(et(),ve(c,s,8,[t.el,l,t,e]),tt())}}const Ct=t=>!!t.type.__asyncLoader,sr=t=>t.type.__isKeepAlive;function Go(t,e){nr(t,"a",e)}function Jo(t,e){nr(t,"da",e)}function nr(t,e,s=te){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(cs(e,n,s),s){let i=s.parent;for(;i&&i.parent;)sr(i.parent.vnode)&&zo(n,e,s,i),i=i.parent}}function zo(t,e,s,n){const i=cs(e,t,n,!0);ir(()=>{en(n[e],i)},s)}function cs(t,e,s=te,n=!1){if(s){const i=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(s.isUnmounted)return;et(),ft(s);const l=ve(e,s,t,o);return Qe(),tt(),l});return n?i.unshift(r):i.push(r),r}}const Be=t=>(e,s=te)=>(!fs||t==="sp")&&cs(t,(...n)=>e(...n),s),Xo=Be("bm"),Qo=Be("m"),Zo=Be("bu"),el=Be("u"),tl=Be("bum"),ir=Be("um"),sl=Be("sp"),nl=Be("rtg"),il=Be("rtc");function rl(t,e=te){cs("ec",t,e)}function xs(t,e,s,n){let i;const r=s&&s[n];if(k(t)||J(t)){i=new Array(t.length);for(let o=0,l=t.length;o<l;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(j(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,r&&r[l]));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const f=o[l];i[l]=e(t[f],f,l,r&&r[l])}}else i=[];return s&&(s[n]=i),i}function ol(t,e,s={},n,i){if(se.isCE||se.parent&&Ct(se.parent)&&se.parent.isCE)return e!=="default"&&(s.name=e),ge("slot",s,n&&n());let r=t[e];r&&r._c&&(r._d=!1),ce();const o=r&&rr(r(s)),l=yn(Z,{key:s.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function rr(t){return t.some(e=>mr(e)?!(e.type===qe||e.type===Z&&!rr(e.children)):!0)?t:null}const Ks=t=>t?wr(t)?hs(t)||t.proxy:Ks(t.parent):null,Et=ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ks(t.parent),$root:t=>Ks(t.root),$emit:t=>t.emit,$options:t=>gn(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,pn(t.update)}),$nextTick:t=>t.n||(t.n=Ro.bind(t.proxy)),$watch:t=>jo.bind(t)}),Ts=(t,e)=>t!==V&&!t.__isScriptSetup&&L(t,e),ll={get({_:t},e){const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:l,appContext:c}=t;let f;if(e[0]!=="$"){const A=o[e];if(A!==void 0)switch(A){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return r[e]}else{if(Ts(n,e))return o[e]=1,n[e];if(i!==V&&L(i,e))return o[e]=2,i[e];if((f=t.propsOptions[0])&&L(f,e))return o[e]=3,r[e];if(s!==V&&L(s,e))return o[e]=4,s[e];Ds&&(o[e]=0)}}const d=Et[e];let w,C;if(d)return e==="$attrs"&&ae(t,"get",e),d(t);if((w=l.__cssModules)&&(w=w[e]))return w;if(s!==V&&L(s,e))return o[e]=4,s[e];if(C=c.config.globalProperties,L(C,e))return C[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:r}=t;return Ts(i,e)?(i[e]=s,!0):n!==V&&L(n,e)?(n[e]=s,!0):L(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:r}},o){let l;return!!s[o]||t!==V&&L(t,o)||Ts(e,o)||(l=r[0])&&L(l,o)||L(n,o)||L(Et,o)||L(i.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:L(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Gn(t){return k(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Ds=!0;function cl(t){const e=gn(t),s=t.proxy,n=t.ctx;Ds=!1,e.beforeCreate&&Jn(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:c,inject:f,created:d,beforeMount:w,mounted:C,beforeUpdate:A,updated:D,activated:B,deactivated:z,beforeDestroy:G,beforeUnmount:Ce,destroyed:U,unmounted:X,render:de,renderTracked:N,renderTriggered:Me,errorCaptured:Ee,serverPrefetch:gs,expose:Ve,inheritAttrs:gt,components:St,directives:Pt,filters:ms}=e;if(f&&al(f,n,null),o)for(const W in o){const q=o[W];S(q)&&(n[W]=q.bind(s))}if(i){const W=i.call(s,s);j(W)&&(t.data=an(W))}if(Ds=!0,r)for(const W in r){const q=r[W],He=S(q)?q.bind(s,s):S(q.get)?q.get.bind(s,s):fe,Mt=!S(q)&&S(q.set)?q.set.bind(s):fe,We=Kl({get:He,set:Mt});Object.defineProperty(n,W,{enumerable:!0,configurable:!0,get:()=>We.value,set:xe=>We.value=xe})}if(l)for(const W in l)or(l[W],n,s,W);if(c){const W=S(c)?c.call(s):c;Reflect.ownKeys(W).forEach(q=>{gl(q,W[q])})}d&&Jn(d,t,"c");function ie(W,q){k(q)?q.forEach(He=>W(He.bind(s))):q&&W(q.bind(s))}if(ie(Xo,w),ie(Qo,C),ie(Zo,A),ie(el,D),ie(Go,B),ie(Jo,z),ie(rl,Ee),ie(il,N),ie(nl,Me),ie(tl,Ce),ie(ir,X),ie(sl,gs),k(Ve))if(Ve.length){const W=t.exposed||(t.exposed={});Ve.forEach(q=>{Object.defineProperty(W,q,{get:()=>s[q],set:He=>s[q]=He})})}else t.exposed||(t.exposed={});de&&t.render===fe&&(t.render=de),gt!=null&&(t.inheritAttrs=gt),St&&(t.components=St),Pt&&(t.directives=Pt)}function al(t,e,s=fe){k(t)&&(t=Us(t));for(const n in t){const i=t[n];let r;j(i)?"default"in i?r=Wt(i.from||n,i.default,!0):r=Wt(i.from||n):r=Wt(i),he(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function Jn(t,e,s){ve(k(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function or(t,e,s,n){const i=n.includes(".")?tr(s,n):()=>s[n];if(J(t)){const r=e[t];S(r)&&Es(i,r)}else if(S(t))Es(i,t.bind(s));else if(j(t))if(k(t))t.forEach(r=>or(r,e,s,n));else{const r=S(t.handler)?t.handler.bind(s):e[t.handler];S(r)&&Es(i,r,t)}}function gn(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let c;return l?c=l:!i.length&&!s&&!n?c=e:(c={},i.length&&i.forEach(f=>Qt(c,f,o,!0)),Qt(c,e,o)),j(e)&&r.set(e,c),c}function Qt(t,e,s,n=!1){const{mixins:i,extends:r}=e;r&&Qt(t,r,s,!0),i&&i.forEach(o=>Qt(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const l=ul[o]||s&&s[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const ul={data:zn,props:Xn,emits:Xn,methods:bt,computed:bt,beforeCreate:re,created:re,beforeMount:re,mounted:re,beforeUpdate:re,updated:re,beforeDestroy:re,beforeUnmount:re,destroyed:re,unmounted:re,activated:re,deactivated:re,errorCaptured:re,serverPrefetch:re,components:bt,directives:bt,watch:hl,provide:zn,inject:fl};function zn(t,e){return e?t?function(){return ne(S(t)?t.call(this,this):t,S(e)?e.call(this,this):e)}:e:t}function fl(t,e){return bt(Us(t),Us(e))}function Us(t){if(k(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function re(t,e){return t?[...new Set([].concat(t,e))]:e}function bt(t,e){return t?ne(Object.create(null),t,e):e}function Xn(t,e){return t?k(t)&&k(e)?[...new Set([...t,...e])]:ne(Object.create(null),Gn(t),Gn(e??{})):e}function hl(t,e){if(!t)return e;if(!e)return t;const s=ne(Object.create(null),t);for(const n in e)s[n]=re(t[n],e[n]);return s}function lr(){return{app:null,config:{isNativeTag:Dr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dl=0;function pl(t,e){return function(n,i=null){S(n)||(n=ne({},n)),i!=null&&!j(i)&&(i=null);const r=lr(),o=new WeakSet;let l=!1;const c=r.app={_uid:dl++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:Dl,get config(){return r.config},set config(f){},use(f,...d){return o.has(f)||(f&&S(f.install)?(o.add(f),f.install(c,...d)):S(f)&&(o.add(f),f(c,...d))),c},mixin(f){return r.mixins.includes(f)||r.mixins.push(f),c},component(f,d){return d?(r.components[f]=d,c):r.components[f]},directive(f,d){return d?(r.directives[f]=d,c):r.directives[f]},mount(f,d,w){if(!l){const C=ge(n,i);return C.appContext=r,w===!0?w="svg":w===!1&&(w=void 0),d&&e?e(C,f):t(C,f,w),l=!0,c._container=f,f.__vue_app__=c,hs(C.component)||C.component.proxy}},unmount(){l&&(t(null,c._container),delete c._container.__vue_app__)},provide(f,d){return r.provides[f]=d,c},runWithContext(f){Zt=c;try{return f()}finally{Zt=null}}};return c}}let Zt=null;function gl(t,e){if(te){let s=te.provides;const n=te.parent&&te.parent.provides;n===s&&(s=te.provides=Object.create(n)),s[t]=e}}function Wt(t,e,s=!1){const n=te||se;if(n||Zt){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:Zt._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return s&&S(e)?e.call(n&&n.proxy):e}}function ml(t,e,s,n=!1){const i={},r={};zt(r,us,1),t.propsDefaults=Object.create(null),cr(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=n?i:Co(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function yl(t,e,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=F(i),[c]=t.propsOptions;let f=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let w=0;w<d.length;w++){let C=d[w];if(os(t.emitsOptions,C))continue;const A=e[C];if(c)if(L(r,C))A!==r[C]&&(r[C]=A,f=!0);else{const D=Se(C);i[D]=qs(c,l,D,A,t,!1)}else A!==r[C]&&(r[C]=A,f=!0)}}}else{cr(t,e,i,r)&&(f=!0);let d;for(const w in l)(!e||!L(e,w)&&((d=dt(w))===w||!L(e,d)))&&(c?s&&(s[w]!==void 0||s[d]!==void 0)&&(i[w]=qs(c,l,w,void 0,t,!0)):delete i[w]);if(r!==l)for(const w in r)(!e||!L(e,w))&&(delete r[w],f=!0)}f&&Ne(t,"set","$attrs")}function cr(t,e,s,n){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(Ht(c))continue;const f=e[c];let d;i&&L(i,d=Se(c))?!r||!r.includes(d)?s[d]=f:(l||(l={}))[d]=f:os(t.emitsOptions,c)||(!(c in n)||f!==n[c])&&(n[c]=f,o=!0)}if(r){const c=F(s),f=l||V;for(let d=0;d<r.length;d++){const w=r[d];s[w]=qs(i,c,w,f[w],t,!L(f,w))}}return o}function qs(t,e,s,n,i,r){const o=t[s];if(o!=null){const l=L(o,"default");if(l&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&S(c)){const{propsDefaults:f}=i;s in f?n=f[s]:(ft(i),n=f[s]=c.call(null,e),Qe())}else n=c}o[0]&&(r&&!l?n=!1:o[1]&&(n===""||n===dt(s))&&(n=!0))}return n}function ar(t,e,s=!1){const n=e.propsCache,i=n.get(t);if(i)return i;const r=t.props,o={},l=[];let c=!1;if(!S(t)){const d=w=>{c=!0;const[C,A]=ar(w,e,!0);ne(o,C),A&&l.push(...A)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!c)return j(t)&&n.set(t,rt),rt;if(k(r))for(let d=0;d<r.length;d++){const w=Se(r[d]);Qn(w)&&(o[w]=V)}else if(r)for(const d in r){const w=Se(d);if(Qn(w)){const C=r[d],A=o[w]=k(C)||S(C)?{type:C}:ne({},C);if(A){const D=ti(Boolean,A.type),B=ti(String,A.type);A[0]=D>-1,A[1]=B<0||D<B,(D>-1||L(A,"default"))&&l.push(w)}}}const f=[o,l];return j(t)&&n.set(t,f),f}function Qn(t){return t[0]!=="$"}function Zn(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function ei(t,e){return Zn(t)===Zn(e)}function ti(t,e){return k(e)?e.findIndex(s=>ei(s,t)):S(e)&&ei(e,t)?0:-1}const ur=t=>t[0]==="_"||t==="$stable",mn=t=>k(t)?t.map(Ae):[Ae(t)],_l=(t,e,s)=>{if(e._n)return e;const n=Qi((...i)=>mn(e(...i)),s);return n._c=!1,n},fr=(t,e,s)=>{const n=t._ctx;for(const i in t){if(ur(i))continue;const r=t[i];if(S(r))e[i]=_l(i,r,n);else if(r!=null){const o=mn(r);e[i]=()=>o}}},hr=(t,e)=>{const s=mn(e);t.slots.default=()=>s},wl=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=F(e),zt(e,"_",s)):fr(e,t.slots={})}else t.slots={},e&&hr(t,e);zt(t.slots,us,1)},bl=(t,e,s)=>{const{vnode:n,slots:i}=t;let r=!0,o=V;if(n.shapeFlag&32){const l=e._;l?s&&l===1?r=!1:(ne(i,e),!s&&l===1&&delete i._):(r=!e.$stable,fr(e,i)),o=e}else e&&(hr(t,e),o={default:1});if(r)for(const l in i)!ur(l)&&o[l]==null&&delete i[l]};function Vs(t,e,s,n,i=!1){if(k(t)){t.forEach((C,A)=>Vs(C,e&&(k(e)?e[A]:e),s,n,i));return}if(Ct(n)&&!i)return;const r=n.shapeFlag&4?hs(n.component)||n.component.proxy:n.el,o=i?null:r,{i:l,r:c}=t,f=e&&e.r,d=l.refs===V?l.refs={}:l.refs,w=l.setupState;if(f!=null&&f!==c&&(J(f)?(d[f]=null,L(w,f)&&(w[f]=null)):he(f)&&(f.value=null)),S(c))Ue(c,l,12,[o,d]);else{const C=J(c),A=he(c);if(C||A){const D=()=>{if(t.f){const B=C?L(w,c)?w[c]:d[c]:c.value;i?k(B)&&en(B,r):k(B)?B.includes(r)||B.push(r):C?(d[c]=[r],L(w,c)&&(w[c]=d[c])):(c.value=[r],t.k&&(d[t.k]=c.value))}else C?(d[c]=o,L(w,c)&&(w[c]=o)):A&&(c.value=o,t.k&&(d[t.k]=o))};o?(D.id=-1,le(D,s)):D()}}}const le=Vo;function vl(t){return Cl(t)}function Cl(t,e){const s=Ri();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:l,createComment:c,setText:f,setElementText:d,parentNode:w,nextSibling:C,setScopeId:A=fe,insertStaticContent:D}=t,B=(a,u,h,p=null,g=null,_=null,v=void 0,y=null,b=!!u.dynamicChildren)=>{if(a===u)return;a&&!yt(a,u)&&(p=It(a),xe(a,g,_,!0),a=null),u.patchFlag===-2&&(b=!1,u.dynamicChildren=null);const{type:m,ref:E,shapeFlag:O}=u;switch(m){case as:z(a,u,h,p);break;case qe:G(a,u,h,p);break;case As:a==null&&Ce(u,h,p,v);break;case Z:St(a,u,h,p,g,_,v,y,b);break;default:O&1?de(a,u,h,p,g,_,v,y,b):O&6?Pt(a,u,h,p,g,_,v,y,b):(O&64||O&128)&&m.process(a,u,h,p,g,_,v,y,b,st)}E!=null&&g&&Vs(E,a&&a.ref,_,u||a,!u)},z=(a,u,h,p)=>{if(a==null)n(u.el=l(u.children),h,p);else{const g=u.el=a.el;u.children!==a.children&&f(g,u.children)}},G=(a,u,h,p)=>{a==null?n(u.el=c(u.children||""),h,p):u.el=a.el},Ce=(a,u,h,p)=>{[a.el,a.anchor]=D(a.children,u,h,p,a.el,a.anchor)},U=({el:a,anchor:u},h,p)=>{let g;for(;a&&a!==u;)g=C(a),n(a,h,p),a=g;n(u,h,p)},X=({el:a,anchor:u})=>{let h;for(;a&&a!==u;)h=C(a),i(a),a=h;i(u)},de=(a,u,h,p,g,_,v,y,b)=>{u.type==="svg"?v="svg":u.type==="math"&&(v="mathml"),a==null?N(u,h,p,g,_,v,y,b):gs(a,u,g,_,v,y,b)},N=(a,u,h,p,g,_,v,y)=>{let b,m;const{props:E,shapeFlag:O,transition:x,dirs:R}=a;if(b=a.el=o(a.type,_,E&&E.is,E),O&8?d(b,a.children):O&16&&Ee(a.children,b,null,p,g,Os(a,_),v,y),R&&je(a,null,p,"created"),Me(b,a,a.scopeId,v,p),E){for(const $ in E)$!=="value"&&!Ht($)&&r(b,$,null,E[$],_,a.children,p,g,Ie);"value"in E&&r(b,"value",null,E.value,_),(m=E.onVnodeBeforeMount)&&Oe(m,p,a)}R&&je(a,null,p,"beforeMount");const P=El(g,x);P&&x.beforeEnter(b),n(b,u,h),((m=E&&E.onVnodeMounted)||P||R)&&le(()=>{m&&Oe(m,p,a),P&&x.enter(b),R&&je(a,null,p,"mounted")},g)},Me=(a,u,h,p,g)=>{if(h&&A(a,h),p)for(let _=0;_<p.length;_++)A(a,p[_]);if(g){let _=g.subTree;if(u===_){const v=g.vnode;Me(a,v,v.scopeId,v.slotScopeIds,g.parent)}}},Ee=(a,u,h,p,g,_,v,y,b=0)=>{for(let m=b;m<a.length;m++){const E=a[m]=y?$e(a[m]):Ae(a[m]);B(null,E,u,h,p,g,_,v,y)}},gs=(a,u,h,p,g,_,v)=>{const y=u.el=a.el;let{patchFlag:b,dynamicChildren:m,dirs:E}=u;b|=a.patchFlag&16;const O=a.props||V,x=u.props||V;let R;if(h&&Ye(h,!1),(R=x.onVnodeBeforeUpdate)&&Oe(R,h,u,a),E&&je(u,a,h,"beforeUpdate"),h&&Ye(h,!0),m?Ve(a.dynamicChildren,m,y,h,p,Os(u,g),_):v||q(a,u,y,null,h,p,Os(u,g),_,!1),b>0){if(b&16)gt(y,u,O,x,h,p,g);else if(b&2&&O.class!==x.class&&r(y,"class",null,x.class,g),b&4&&r(y,"style",O.style,x.style,g),b&8){const P=u.dynamicProps;for(let $=0;$<P.length;$++){const H=P[$],Q=O[H],me=x[H];(me!==Q||H==="value")&&r(y,H,Q,me,g,a.children,h,p,Ie)}}b&1&&a.children!==u.children&&d(y,u.children)}else!v&&m==null&&gt(y,u,O,x,h,p,g);((R=x.onVnodeUpdated)||E)&&le(()=>{R&&Oe(R,h,u,a),E&&je(u,a,h,"updated")},p)},Ve=(a,u,h,p,g,_,v)=>{for(let y=0;y<u.length;y++){const b=a[y],m=u[y],E=b.el&&(b.type===Z||!yt(b,m)||b.shapeFlag&70)?w(b.el):h;B(b,m,E,null,p,g,_,v,!0)}},gt=(a,u,h,p,g,_,v)=>{if(h!==p){if(h!==V)for(const y in h)!Ht(y)&&!(y in p)&&r(a,y,h[y],null,v,u.children,g,_,Ie);for(const y in p){if(Ht(y))continue;const b=p[y],m=h[y];b!==m&&y!=="value"&&r(a,y,m,b,v,u.children,g,_,Ie)}"value"in p&&r(a,"value",h.value,p.value,v)}},St=(a,u,h,p,g,_,v,y,b)=>{const m=u.el=a?a.el:l(""),E=u.anchor=a?a.anchor:l("");let{patchFlag:O,dynamicChildren:x,slotScopeIds:R}=u;R&&(y=y?y.concat(R):R),a==null?(n(m,h,p),n(E,h,p),Ee(u.children,h,E,g,_,v,y,b)):O>0&&O&64&&x&&a.dynamicChildren?(Ve(a.dynamicChildren,x,h,g,_,v,y),(u.key!=null||g&&u===g.subTree)&&dr(a,u,!0)):q(a,u,h,E,g,_,v,y,b)},Pt=(a,u,h,p,g,_,v,y,b)=>{u.slotScopeIds=y,a==null?u.shapeFlag&512?g.ctx.activate(u,h,p,v,b):ms(u,h,p,g,_,v,b):Sn(a,u,b)},ms=(a,u,h,p,g,_,v)=>{const y=a.component=Ml(a,p,g);if(sr(a)&&(y.ctx.renderer=st),Il(y),y.asyncDep){if(g&&g.registerDep(y,ie),!a.el){const b=y.subTree=ge(qe);G(null,b,u,h)}}else ie(y,a,u,h,g,_,v)},Sn=(a,u,h)=>{const p=u.component=a.component;if($o(a,u,h))if(p.asyncDep&&!p.asyncResolved){W(p,u,h);return}else p.next=u,So(p.update),p.effect.dirty=!0,p.update();else u.el=a.el,p.vnode=u},ie=(a,u,h,p,g,_,v)=>{const y=()=>{if(a.isMounted){let{next:E,bu:O,u:x,parent:R,vnode:P}=a;{const nt=pr(a);if(nt){E&&(E.el=P.el,W(a,E,v)),nt.asyncDep.then(()=>{a.isUnmounted||y()});return}}let $=E,H;Ye(a,!1),E?(E.el=P.el,W(a,E,v)):E=P,O&&bs(O),(H=E.props&&E.props.onVnodeBeforeUpdate)&&Oe(H,R,E,P),Ye(a,!0);const Q=Cs(a),me=a.subTree;a.subTree=Q,B(me,Q,w(me.el),It(me),a,g,_),E.el=Q.el,$===null&&Ko(a,Q.el),x&&le(x,g),(H=E.props&&E.props.onVnodeUpdated)&&le(()=>Oe(H,R,E,P),g)}else{let E;const{el:O,props:x}=u,{bm:R,m:P,parent:$}=a,H=Ct(u);if(Ye(a,!1),R&&bs(R),!H&&(E=x&&x.onVnodeBeforeMount)&&Oe(E,$,u),Ye(a,!0),O&&_s){const Q=()=>{a.subTree=Cs(a),_s(O,a.subTree,a,g,null)};H?u.type.__asyncLoader().then(()=>!a.isUnmounted&&Q()):Q()}else{const Q=a.subTree=Cs(a);B(null,Q,h,p,a,g,_),u.el=Q.el}if(P&&le(P,g),!H&&(E=x&&x.onVnodeMounted)){const Q=u;le(()=>Oe(E,$,Q),g)}(u.shapeFlag&256||$&&Ct($.vnode)&&$.vnode.shapeFlag&256)&&a.a&&le(a.a,g),a.isMounted=!0,u=h=p=null}},b=a.effect=new nn(y,fe,()=>pn(m),a.scope),m=a.update=()=>{b.dirty&&b.run()};m.id=a.uid,Ye(a,!0),m()},W=(a,u,h)=>{u.component=a;const p=a.vnode.props;a.vnode=u,a.next=null,yl(a,u.props,p,h),bl(a,u.children,h),et(),Wn(a),tt()},q=(a,u,h,p,g,_,v,y,b=!1)=>{const m=a&&a.children,E=a?a.shapeFlag:0,O=u.children,{patchFlag:x,shapeFlag:R}=u;if(x>0){if(x&128){Mt(m,O,h,p,g,_,v,y,b);return}else if(x&256){He(m,O,h,p,g,_,v,y,b);return}}R&8?(E&16&&Ie(m,g,_),O!==m&&d(h,O)):E&16?R&16?Mt(m,O,h,p,g,_,v,y,b):Ie(m,g,_,!0):(E&8&&d(h,""),R&16&&Ee(O,h,p,g,_,v,y,b))},He=(a,u,h,p,g,_,v,y,b)=>{a=a||rt,u=u||rt;const m=a.length,E=u.length,O=Math.min(m,E);let x;for(x=0;x<O;x++){const R=u[x]=b?$e(u[x]):Ae(u[x]);B(a[x],R,h,null,g,_,v,y,b)}m>E?Ie(a,g,_,!0,!1,O):Ee(u,h,p,g,_,v,y,b,O)},Mt=(a,u,h,p,g,_,v,y,b)=>{let m=0;const E=u.length;let O=a.length-1,x=E-1;for(;m<=O&&m<=x;){const R=a[m],P=u[m]=b?$e(u[m]):Ae(u[m]);if(yt(R,P))B(R,P,h,null,g,_,v,y,b);else break;m++}for(;m<=O&&m<=x;){const R=a[O],P=u[x]=b?$e(u[x]):Ae(u[x]);if(yt(R,P))B(R,P,h,null,g,_,v,y,b);else break;O--,x--}if(m>O){if(m<=x){const R=x+1,P=R<E?u[R].el:p;for(;m<=x;)B(null,u[m]=b?$e(u[m]):Ae(u[m]),h,P,g,_,v,y,b),m++}}else if(m>x)for(;m<=O;)xe(a[m],g,_,!0),m++;else{const R=m,P=m,$=new Map;for(m=P;m<=x;m++){const ue=u[m]=b?$e(u[m]):Ae(u[m]);ue.key!=null&&$.set(ue.key,m)}let H,Q=0;const me=x-P+1;let nt=!1,In=0;const mt=new Array(me);for(m=0;m<me;m++)mt[m]=0;for(m=R;m<=O;m++){const ue=a[m];if(Q>=me){xe(ue,g,_,!0);continue}let Te;if(ue.key!=null)Te=$.get(ue.key);else for(H=P;H<=x;H++)if(mt[H-P]===0&&yt(ue,u[H])){Te=H;break}Te===void 0?xe(ue,g,_,!0):(mt[Te-P]=m+1,Te>=In?In=Te:nt=!0,B(ue,u[Te],h,null,g,_,v,y,b),Q++)}const Ln=nt?xl(mt):rt;for(H=Ln.length-1,m=me-1;m>=0;m--){const ue=P+m,Te=u[ue],Nn=ue+1<E?u[ue+1].el:p;mt[m]===0?B(null,Te,h,Nn,g,_,v,y,b):nt&&(H<0||m!==Ln[H]?We(Te,h,Nn,2):H--)}}},We=(a,u,h,p,g=null)=>{const{el:_,type:v,transition:y,children:b,shapeFlag:m}=a;if(m&6){We(a.component.subTree,u,h,p);return}if(m&128){a.suspense.move(u,h,p);return}if(m&64){v.move(a,u,h,st);return}if(v===Z){n(_,u,h);for(let O=0;O<b.length;O++)We(b[O],u,h,p);n(a.anchor,u,h);return}if(v===As){U(a,u,h);return}if(p!==2&&m&1&&y)if(p===0)y.beforeEnter(_),n(_,u,h),le(()=>y.enter(_),g);else{const{leave:O,delayLeave:x,afterLeave:R}=y,P=()=>n(_,u,h),$=()=>{O(_,()=>{P(),R&&R()})};x?x(_,P,$):$()}else n(_,u,h)},xe=(a,u,h,p=!1,g=!1)=>{const{type:_,props:v,ref:y,children:b,dynamicChildren:m,shapeFlag:E,patchFlag:O,dirs:x}=a;if(y!=null&&Vs(y,null,h,a,!0),E&256){u.ctx.deactivate(a);return}const R=E&1&&x,P=!Ct(a);let $;if(P&&($=v&&v.onVnodeBeforeUnmount)&&Oe($,u,a),E&6)Fr(a.component,h,p);else{if(E&128){a.suspense.unmount(h,p);return}R&&je(a,null,u,"beforeUnmount"),E&64?a.type.remove(a,u,h,g,st,p):m&&(_!==Z||O>0&&O&64)?Ie(m,u,h,!1,!0):(_===Z&&O&384||!g&&E&16)&&Ie(b,u,h),p&&Pn(a)}(P&&($=v&&v.onVnodeUnmounted)||R)&&le(()=>{$&&Oe($,u,a),R&&je(a,null,u,"unmounted")},h)},Pn=a=>{const{type:u,el:h,anchor:p,transition:g}=a;if(u===Z){Br(h,p);return}if(u===As){X(a);return}const _=()=>{i(h),g&&!g.persisted&&g.afterLeave&&g.afterLeave()};if(a.shapeFlag&1&&g&&!g.persisted){const{leave:v,delayLeave:y}=g,b=()=>v(h,_);y?y(a.el,_,b):b()}else _()},Br=(a,u)=>{let h;for(;a!==u;)h=C(a),i(a),a=h;i(u)},Fr=(a,u,h)=>{const{bum:p,scope:g,update:_,subTree:v,um:y}=a;p&&bs(p),g.stop(),_&&(_.active=!1,xe(v,a,u,h)),y&&le(y,u),le(()=>{a.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&a.asyncDep&&!a.asyncResolved&&a.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},Ie=(a,u,h,p=!1,g=!1,_=0)=>{for(let v=_;v<a.length;v++)xe(a[v],u,h,p,g)},It=a=>a.shapeFlag&6?It(a.component.subTree):a.shapeFlag&128?a.suspense.next():C(a.anchor||a.el),Mn=(a,u,h)=>{a==null?u._vnode&&xe(u._vnode,null,null,!0):B(u._vnode||null,a,u,null,null,null,h),Wn(),Ji(),u._vnode=a},st={p:B,um:xe,m:We,r:Pn,mt:ms,mc:Ee,pc:q,pbc:Ve,n:It,o:t};let ys,_s;return e&&([ys,_s]=e(st)),{render:Mn,hydrate:ys,createApp:pl(Mn,ys)}}function Os({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ye({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function El(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function dr(t,e,s=!1){const n=t.children,i=e.children;if(k(n)&&k(i))for(let r=0;r<n.length;r++){const o=n[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=$e(i[r]),l.el=o.el),s||dr(o,l)),l.type===as&&(l.el=o.el)}}function xl(t){const e=t.slice(),s=[0];let n,i,r,o,l;const c=t.length;for(n=0;n<c;n++){const f=t[n];if(f!==0){if(i=s[s.length-1],t[i]<f){e[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)l=r+o>>1,t[s[l]]<f?r=l+1:o=l;f<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function pr(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:pr(e)}const Tl=t=>t.__isTeleport,Z=Symbol.for("v-fgt"),as=Symbol.for("v-txt"),qe=Symbol.for("v-cmt"),As=Symbol.for("v-stc"),xt=[];let be=null;function ce(t=!1){xt.push(be=t?null:[])}function Ol(){xt.pop(),be=xt[xt.length-1]||null}let kt=1;function si(t){kt+=t}function gr(t){return t.dynamicChildren=kt>0?be||rt:null,Ol(),kt>0&&be&&be.push(t),t}function we(t,e,s,n,i,r){return gr(K(t,e,s,n,i,r,!0))}function yn(t,e,s,n,i){return gr(ge(t,e,s,n,i,!0))}function mr(t){return t?t.__v_isVNode===!0:!1}function yt(t,e){return t.type===e.type&&t.key===e.key}const us="__vInternal",yr=({key:t})=>t??null,jt=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?J(t)||he(t)||S(t)?{i:se,r:t,k:e,f:!!s}:t:null);function K(t,e=null,s=null,n=0,i=null,r=t===Z?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&yr(e),ref:e&&jt(e),scopeId:ls,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:se};return l?(_n(c,s),r&128&&t.normalize(c)):s&&(c.shapeFlag|=J(s)?8:16),kt>0&&!o&&be&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&be.push(c),c}const ge=Al;function Al(t,e=null,s=null,n=0,i=null,r=!1){if((!t||t===Do)&&(t=qe),mr(t)){const l=ut(t,e,!0);return s&&_n(l,s),kt>0&&!r&&be&&(l.shapeFlag&6?be[be.indexOf(t)]=l:be.push(l)),l.patchFlag|=-2,l}if($l(t)&&(t=t.__vccOpts),e){e=Rl(e);let{class:l,style:c}=e;l&&!J(l)&&(e.class=at(l)),j(c)&&(Vi(c)&&!k(c)&&(c=ne({},c)),e.style=sn(c))}const o=J(t)?1:qo(t)?128:Tl(t)?64:j(t)?4:S(t)?2:0;return K(t,e,s,n,i,o,r,!0)}function Rl(t){return t?Vi(t)||us in t?ne({},t):t:null}function ut(t,e,s=!1){const{props:n,ref:i,patchFlag:r,children:o}=t,l=e?kl(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&yr(l),ref:e&&e.ref?s&&i?k(i)?i.concat(jt(e)):[i,jt(e)]:jt(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Z?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ut(t.ssContent),ssFallback:t.ssFallback&&ut(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function _r(t=" ",e=0){return ge(as,null,t,e)}function Tt(t="",e=!1){return e?(ce(),yn(qe,null,t)):ge(qe,null,t)}function Ae(t){return t==null||typeof t=="boolean"?ge(qe):k(t)?ge(Z,null,t.slice()):typeof t=="object"?$e(t):ge(as,null,String(t))}function $e(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ut(t)}function _n(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(k(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),_n(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!(us in e)?e._ctx=se:i===3&&se&&(se.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else S(e)?(e={default:e,_ctx:se},s=32):(e=String(e),n&64?(s=16,e=[_r(e)]):s=8);t.children=e,t.shapeFlag|=s}function kl(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=at([e.class,n.class]));else if(i==="style")e.style=sn([e.style,n.style]);else if(es(i)){const r=e[i],o=n[i];o&&r!==o&&!(k(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function Oe(t,e,s,n=null){ve(t,e,7,[s,n])}const Sl=lr();let Pl=0;function Ml(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||Sl,r={uid:Pl++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Zr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ar(n,i),emitsOptions:Xi(n,i),emit:null,emitted:null,propsDefaults:V,inheritAttrs:n.inheritAttrs,ctx:V,data:V,props:V,attrs:V,slots:V,refs:V,setupState:V,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Io.bind(null,r),t.ce&&t.ce(r),r}let te=null,wn,Hs;{const t=Ri(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};wn=e("__VUE_INSTANCE_SETTERS__",s=>te=s),Hs=e("__VUE_SSR_SETTERS__",s=>fs=s)}const ft=t=>{wn(t),t.scope.on()},Qe=()=>{te&&te.scope.off(),wn(null)};function wr(t){return t.vnode.shapeFlag&4}let fs=!1;function Il(t,e=!1){e&&Hs(e);const{props:s,children:n}=t.vnode,i=wr(t);ml(t,s,i,e),wl(t,n);const r=i?Ll(t,e):void 0;return e&&Hs(!1),r}function Ll(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=Hi(new Proxy(t.ctx,ll));const{setup:n}=s;if(n){const i=t.setupContext=n.length>1?Bl(t):null;ft(t),et();const r=Ue(n,t,0,[t.props,i]);if(tt(),Qe(),Ti(r)){if(r.then(Qe,Qe),e)return r.then(o=>{ni(t,o,e)}).catch(o=>{rs(o,t,0)});t.asyncDep=r}else ni(t,r,e)}else br(t,e)}function ni(t,e,s){S(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:j(e)&&(t.setupState=ji(e)),br(t,s)}let ii;function br(t,e,s){const n=t.type;if(!t.render){if(!e&&ii&&!n.render){const i=n.template||gn(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:c}=n,f=ne(ne({isCustomElement:r,delimiters:l},o),c);n.render=ii(i,f)}}t.render=n.render||fe}{ft(t),et();try{cl(t)}finally{tt(),Qe()}}}function Nl(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,s){return ae(t,"get","$attrs"),e[s]}}))}function Bl(t){const e=s=>{t.exposed=s||{}};return{get attrs(){return Nl(t)},slots:t.slots,emit:t.emit,expose:e}}function hs(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(ji(Hi(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Et)return Et[s](t)},has(e,s){return s in e||s in Et}}))}function Fl(t,e=!0){return S(t)?t.displayName||t.name:t.name||e&&t.__name}function $l(t){return S(t)&&"__vccOpts"in t}const Kl=(t,e)=>Eo(t,e,fs),Dl="3.4.5",Ul="http://www.w3.org/2000/svg",ql="http://www.w3.org/1998/Math/MathML",Ke=typeof document<"u"?document:null,ri=Ke&&Ke.createElement("template"),Vl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?Ke.createElementNS(Ul,t):e==="mathml"?Ke.createElementNS(ql,t):Ke.createElement(t,s?{is:s}:void 0);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>Ke.createTextNode(t),createComment:t=>Ke.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ke.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,r){const o=s?s.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{ri.innerHTML=n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t;const l=ri.content;if(n==="svg"||n==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Hl=Symbol("_vtc");function Wl(t,e,s){const n=t[Hl];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const bn=Symbol("_vod"),jl={beforeMount(t,{value:e},{transition:s}){t[bn]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):_t(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),_t(t,!0),n.enter(t)):n.leave(t,()=>{_t(t,!1)}):_t(t,e))},beforeUnmount(t,{value:e}){_t(t,e)}};function _t(t,e){t.style.display=e?t[bn]:"none"}const Yl=Symbol("");function Gl(t,e,s){const n=t.style,i=J(s);if(s&&!i){if(e&&!J(e))for(const r in e)s[r]==null&&Ws(n,r,"");for(const r in s)Ws(n,r,s[r])}else{const r=n.display;if(i){if(e!==s){const o=n[Yl];o&&(s+=";"+o),n.cssText=s}}else e&&t.removeAttribute("style");bn in t&&(n.display=r)}}const oi=/\s*!important$/;function Ws(t,e,s){if(k(s))s.forEach(n=>Ws(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Jl(t,e);oi.test(s)?t.setProperty(dt(n),s.replace(oi,""),"important"):t[n]=s}}const li=["Webkit","Moz","ms"],Rs={};function Jl(t,e){const s=Rs[e];if(s)return s;let n=Se(e);if(n!=="filter"&&n in t)return Rs[e]=n;n=ns(n);for(let i=0;i<li.length;i++){const r=li[i]+n;if(r in t)return Rs[e]=r}return e}const ci="http://www.w3.org/1999/xlink";function zl(t,e,s,n,i){if(n&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(ci,e.slice(6,e.length)):t.setAttributeNS(ci,e,s);else{const r=Xr(e);s==null||r&&!ki(s)?t.removeAttribute(e):t.setAttribute(e,r?"":s)}}function Xl(t,e,s,n,i,r,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,i,r),t[e]=s??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=s;const f=l==="OPTION"?t.getAttribute("value"):t.value,d=s??"";f!==d&&(t.value=d),s==null&&t.removeAttribute(e);return}let c=!1;if(s===""||s==null){const f=typeof t[e];f==="boolean"?s=ki(s):s==null&&f==="string"?(s="",c=!0):f==="number"&&(s=0,c=!0)}try{t[e]=s}catch{}c&&t.removeAttribute(e)}function Ql(t,e,s,n){t.addEventListener(e,s,n)}function Zl(t,e,s,n){t.removeEventListener(e,s,n)}const ai=Symbol("_vei");function ec(t,e,s,n,i=null){const r=t[ai]||(t[ai]={}),o=r[e];if(n&&o)o.value=n;else{const[l,c]=tc(e);if(n){const f=r[e]=ic(n,i);Ql(t,l,f,c)}else o&&(Zl(t,l,o,c),r[e]=void 0)}}const ui=/(?:Once|Passive|Capture)$/;function tc(t){let e;if(ui.test(t)){e={};let n;for(;n=t.match(ui);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):dt(t.slice(2)),e]}let ks=0;const sc=Promise.resolve(),nc=()=>ks||(sc.then(()=>ks=0),ks=Date.now());function ic(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ve(rc(n,s.value),e,5,[n])};return s.value=t,s.attached=nc(),s}function rc(t,e){if(k(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const fi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,oc=(t,e,s,n,i,r,o,l,c)=>{const f=i==="svg";e==="class"?Wl(t,n,f):e==="style"?Gl(t,s,n):es(e)?Zs(e)||ec(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lc(t,e,n,f))?Xl(t,e,n,r,o,l,c):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),zl(t,e,n,f))};function lc(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&fi(e)&&S(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return fi(e)&&J(s)?!1:e in t}const cc=ne({patchProp:oc},Vl);let hi;function ac(){return hi||(hi=vl(cc))}const uc=(...t)=>{const e=ac().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=hc(n);if(!i)return;const r=e._component;!S(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=s(i,!1,fc(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function fc(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function hc(t){return J(t)?document.querySelector(t):t}const ds=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},dc={name:"ChessPiece",props:{type:String,color:String},computed:{pieceClass(){return`${this.type}-${this.color}`}}};function pc(t,e,s,n,i,r){return ce(),we("div",{class:at(["chess-piece",r.pieceClass])},null,2)}const gc=ds(dc,[["render",pc]]),oe=class oe{static position(e,s){return{row:e,col:s}}};T(oe,"COLOR_WHITE","white"),T(oe,"COLOR_BLACK","black"),T(oe,"TYPE_PAWN","pawn"),T(oe,"TYPE_ROOK","rook"),T(oe,"TYPE_KNIGHT","knight"),T(oe,"TYPE_BISHOP","bishop"),T(oe,"TYPE_KING","king"),T(oe,"TYPE_QUEEN","queen"),T(oe,"PAWN_INITIAL_ROW",{[oe.COLOR_WHITE]:2,[oe.COLOR_BLACK]:7}),T(oe,"URL_BE","http://localhost:3000");let I=oe;class mc{constructor(e,s,n){T(this,"row");T(this,"col");T(this,"color");T(this,"moves",[]);T(this,"attacks",[]);this.positions=e,this.row=s,this.col=n,this.color=e[s][n].color}calcNewRow(e,s){let n=e-s;if(this.color===I.COLOR_WHITE&&(n=e+s),!(n<1||n>8))return n}go(e,s){const n=this.calcNewRow(e,s);n&&(s===1&&(this.addAttackPositionWhenPossible(n,this.col-1),this.addAttackPositionWhenPossible(n,this.col+1)),!(this.positions[n]&&this.positions[n][this.col])&&this.moves.push(I.position(n,this.col)))}addAttackPositionWhenPossible(e,s){s<1||s>8||this.positions[e]&&this.positions[e][s]&&this.positions[e][s].color!==this.color&&this.attacks.push(I.position(e,s))}build(){this.go(this.row,1),this.row===I.PAWN_INITIAL_ROW[this.color]&&this.moves.length>0&&this.go(this.row,2)}}class yc{constructor(e,s,n){T(this,"MovePawn");this.MovePawn=new mc(e,s,n)}getMoves(){return this.MovePawn.build(),{moves:this.MovePawn.moves,attacks:this.MovePawn.attacks}}}class _c{constructor(e,s,n){T(this,"row");T(this,"col");T(this,"color");T(this,"moves",[]);T(this,"attacks",[]);this.positions=e,this.row=s,this.col=n,this.color=e[s][n].color}build(){[{newRow:this.row+2,newCol:this.col+1},{newRow:this.row+2,newCol:this.col-1},{newRow:this.row-2,newCol:this.col+1},{newRow:this.row-2,newCol:this.col-1},{newRow:this.row+1,newCol:this.col+2},{newRow:this.row+1,newCol:this.col-2},{newRow:this.row-1,newCol:this.col+2},{newRow:this.row-1,newCol:this.col-2}].forEach(e=>{if(!(e.newRow>8||e.newRow<1||e.newCol>8||e.newCol<1)){if(this.positions[e.newRow]&&this.positions[e.newRow][e.newCol]&&this.positions[e.newRow][e.newCol].color){if(this.positions[e.newRow][e.newCol].color===this.color)return;this.attacks.push(I.position(e.newRow,e.newCol))}this.moves.push(I.position(e.newRow,e.newCol))}})}}class wc{constructor(e,s,n){T(this,"MoveKnight");this.MoveKnight=new _c(e,s,n)}getMoves(){return this.MoveKnight.build(),{moves:this.MoveKnight.moves,attacks:this.MoveKnight.attacks}}}class vr{constructor(){T(this,"positions")}calcMin(e){return this.limitToSingleStep&&e-1>0?e-1:1}calcMax(e){return this.limitToSingleStep&&e+1<8?e+1:8}processMove(e,s){return this.positions[e]&&this.positions[e][s]&&this.positions[e][s].color?(this.positions[e][s].color!==this.color&&(this.moves.push(I.position(e,s)),this.attacks.push(I.position(e,s))),!1):(this.moves.push(I.position(e,s)),!0)}}class vn extends vr{constructor(s,n,i,r=!1){super();T(this,"row");T(this,"col");T(this,"color");T(this,"limitToSingleStep");T(this,"moves",[]);T(this,"attacks",[]);this.positions=s,this.row=n,this.col=i,this.color=s[n][i].color,this.limitToSingleStep=r}up(){for(let s=this.row+1;s<=this.calcMax(this.row);s++)if(!this.processMove(s,this.col))return}down(){for(let s=this.row-1;s>=this.calcMin(this.row);s--)if(!this.processMove(s,this.col))return}right(){for(let s=this.col+1;s<=this.calcMax(this.col);s++)if(!this.processMove(this.row,s))return}left(){for(let s=this.col-1;s>=this.calcMin(this.col);s--)if(!this.processMove(this.row,s))return}calcMin(s){return this.limitToSingleStep&&s-1>0?s-1:1}calcMax(s){return this.limitToSingleStep&&s+1<8?s+1:8}build(){this.up(),this.down(),this.left(),this.right()}}class bc{constructor(e,s,n){T(this,"MoveInLine");this.MoveInLine=new vn(e,s,n)}getMoves(){return this.MoveInLine.build(),{moves:this.MoveInLine.moves,attacks:this.MoveInLine.attacks}}}class Cn extends vr{constructor(s,n,i,r=!1){super();T(this,"row");T(this,"col");T(this,"color");T(this,"limitToSingleStep");T(this,"maxRow");T(this,"minRow");T(this,"maxCol");T(this,"minCol");T(this,"moves",[]);T(this,"attacks",[]);this.positions=s,this.row=n,this.col=i,this.color=s[n][i].color,this.limitToSingleStep=r,this.maxRow=this.calcMax(this.row),this.maxCol=this.calcMax(this.col),this.minRow=this.calcMin(this.row),this.minCol=this.calcMin(this.col)}upRight(){let s=this.row,n=this.col;for(;s++,n++,!(s>this.maxRow||n>this.maxCol);)if(!this.processMove(s,n))return}upLeft(){let s=this.row,n=this.col;for(;s++,n--,!(s>this.maxRow||n<this.minCol);)if(!this.processMove(s,n))return}downRight(){let s=this.row,n=this.col;for(;s--,n++,!(s<this.minRow||n>this.maxCol);)if(!this.processMove(s,n))return}downLeft(){let s=this.row,n=this.col;for(;s--,n--,!(s<this.minRow||n<this.minCol);)if(!this.processMove(s,n))return}build(){this.upRight(),this.upLeft(),this.downRight(),this.downLeft()}}class vc{constructor(e,s,n){T(this,"MoveInLine");T(this,"MoveInDiagonal");this.MoveInLine=new vn(e,s,n,!0),this.MoveInDiagonal=new Cn(e,s,n,!0)}getMoves(){return this.MoveInLine.build(),this.MoveInDiagonal.build(),{moves:this.MoveInLine.moves.concat(this.MoveInDiagonal.moves),attacks:this.MoveInLine.attacks.concat(this.MoveInDiagonal.attacks)}}}class Cc{constructor(e,s,n){T(this,"MoveInDiagonal");this.MoveInDiagonal=new Cn(e,s,n)}getMoves(){return this.MoveInDiagonal.build(),{moves:this.MoveInDiagonal.moves,attacks:this.MoveInDiagonal.attacks}}}class Ec{constructor(e,s,n){T(this,"MoveInLine");T(this,"MoveInDiagonal");this.MoveInLine=new vn(e,s,n),this.MoveInDiagonal=new Cn(e,s,n)}getMoves(){return this.MoveInLine.build(),this.MoveInDiagonal.build(),{moves:this.MoveInLine.moves.concat(this.MoveInDiagonal.moves),attacks:this.MoveInLine.attacks.concat(this.MoveInDiagonal.attacks)}}}class xc{constructor(e,s,n){T(this,"positions");T(this,"type");T(this,"row");T(this,"col");this.positions=e,this.row=s,this.col=n,this.type=e[s][n].type}init(){switch(this.type){case I.TYPE_PAWN:return new yc(this.positions,this.row,this.col);case I.TYPE_KING:return new vc(this.positions,this.row,this.col);case I.TYPE_BISHOP:return new Cc(this.positions,this.row,this.col);case I.TYPE_ROOK:return new bc(this.positions,this.row,this.col);case I.TYPE_KNIGHT:return new wc(this.positions,this.row,this.col);case I.TYPE_QUEEN:return new Ec(this.positions,this.row,this.col);default:console.error("Invalid piece type",this.type)}}}class di{constructor(){T(this,"kingsPositions",{});T(this,"haveMoves",{})}create(e){var n;let s=JSON.parse(JSON.stringify(e));s=this.updateMoves(s),this.kingsPositions[I.COLOR_WHITE]=this.findPiece(I.TYPE_KING,I.COLOR_WHITE,s),this.kingsPositions[I.COLOR_BLACK]=this.findPiece(I.TYPE_KING,I.COLOR_BLACK,s),this.haveMoves[I.COLOR_WHITE]=!1,this.haveMoves[I.COLOR_BLACK]=!1;for(let i in s){const r=s[i];for(let o in r){i=+i,o=+o;for(const l of s[i][o].moves){let c=JSON.parse(JSON.stringify(e));c[n=l.row]??(c[n]={}),c[l.row][l.col]={...s[i][o]},delete c[i][o],c=this.updateMoves(c);let f=this.kingsPositions[c[l.row][l.col].color];c[l.row][l.col].type===I.TYPE_KING&&(f=this.findPiece(I.TYPE_KING,c[l.row][l.col].color,c)),this.isUnderCheck(f,c)&&(s[i][o].moves=s[i][o].moves.filter(d=>!(d.row===l.row&&d.col===l.col)),s[i][o].attacks=s[i][o].attacks.filter(d=>!(d.row===l.row&&d.col===l.col)))}s[i][o].moves.length>0&&(this.haveMoves[s[i][o].color]=!0)}}return s=this.updateThreats(s),s=this.updateCastings(s),s}updateCastings(e){return[1,8].forEach(s=>{var o,l,c,f,d,w,C,A;const n=e[s][5]??null;if(console.log("king",n),n===null||(n==null?void 0:n.moved)===!0)return;const i=e[s][1]??null,r=e[s][8]??null;if(i&&(e[s][1].castings=[]),r&&(e[s][8].castings=[]),e[s][5].castings=[],console.log("positions 2 3 4",(o=e[s][2])==null?void 0:o.type,(l=e[s][3])==null?void 0:l.type,(c=e[s][4])==null?void 0:c.type),i&&i.moved===!1&&(((f=e[s][2])==null?void 0:f.type)??null)===null&&(((d=e[s][3])==null?void 0:d.type)??null)===null&&(((w=e[s][4])==null?void 0:w.type)??null)===null){const D=[{from:{row:s,col:1},to:{row:s,col:4}},{from:{row:s,col:5},to:{row:s,col:3}}];e[s][1].castings=[{clickable:{row:s,col:5},moves:D}],e[s][5].castings.push({clickable:{row:s,col:1},moves:D})}if(r&&(r==null?void 0:r.moved)===!1&&(((C=e[s][6])==null?void 0:C.type)??null)===null&&(((A=e[s][7])==null?void 0:A.type)??null)===null){const D=[{from:{row:s,col:8},to:{row:s,col:6}},{from:{row:s,col:5},to:{row:s,col:7}}];e[s][8].castings=[{clickable:{row:s,col:5},moves:D}],e[s][5].castings.push({clickable:{row:s,col:8},moves:D})}}),e}updateMoves(e){for(const s in e){const n=e[s];for(const i in n){const r=new xc(e,+s,+i).init().getMoves();e[s][i].moves=r.moves,e[s][i].attacks=r.attacks}}return e}updateThreats(e){var s;for(let n in e){const i=e[n];for(let r in i){n=+n,r=+r;for(const o of e[n][r].attacks)(s=e[+o.row][+o.col]).threads??(s.threads=[]),e[+o.row][+o.col].threads.push(I.position(n,r))}}return e}findPiece(e,s,n){for(const i in n){const r=n[i];for(const o in r){const l=r[o];if(l.type===e&&l.color===s)return{row:+i,col:+o}}}return null}isUnderCheck(e,s){for(const n in s){const i=s[n];for(const r in i){const o=i[r];for(const l in o.attacks)if(o.attacks[l].row===e.row&&o.attacks[l].col===e.col)return!0}}return!1}}const Tc={name:"Modal",props:{show:Boolean}},Oc={key:0,class:"modal"},Ac={class:"message"};function Rc(t,e,s,n,i,r){return s.show?(ce(),we("div",Oc,[K("div",Ac,[ol(t.$slots,"default")])])):Tt("",!0)}const kc=ds(Tc,[["render",Rc]]),Sc="/sounds/click.mp3",Pc="/sounds/wrong.mp3",Mc="/sounds/overtake.mp3",Ic="/sounds/pop.mp3";const Lc={name:"ChessBoard",components:{ChessPiece:gc,Modal:kc},data(){return{underCheck:!1,underCheckMate:!1,positions:{},pawnPromotionShowModal:!1,pawnPromotionPosition:null,selectedSquare:null,gameOver:!1}},props:{socket:{type:Object,required:!0},game:{type:Object,required:!0}},created(){console.log("created",this.game.positions),this.game.positions=new di().create(this.game.positions),this.socket.on("game",t=>{console.log("Game Updated",t.positions,this.game.positions),this.$refs.soundGameUpdated.play(),this.reCalculate(t)}),this.socket.on("cancelGame",t=>{this.gameOver=!0,this.clearMessages(),this.say("problem","'The other player has cancel the game or connection is lost"),delete this.game,localStorage.clear()}),window.addEventListener("keydown",this.handleKeyPress),document.addEventListener("click",this.handleClick)},destroyed(){window.removeEventListener("keydown",this.handleKeyPress),document.removeEventListener("click",this.handleClick)},updated(){this.removeClassesFromCells(["check"])},methods:{cancel(){delete this.game,localStorage.clear(),console.log("reset game"),window.location.reload()},cancelTheGame(){this.socket.emit("cancelGame",this.game),this.cancel()},calcRow(t){return this.game.myColor==="black"?t:8-t+1},reCalculate(t){const e=new di;this.game.positions=e.create(t.positions),console.log("reCalculate",this.game.positions),this.clearMessages(),e.isUnderCheck(e.kingsPositions[this.game.myColor],this.game.positions)&&(console.log("I am checked"),this.say("problem","We are checked!"),e.haveMoves[this.game.myColor]||(this.gameOver=!0,this.clearMessages(),this.say("problem","Game over. We are checkmated..."))),e.isUnderCheck(e.kingsPositions[this.game.enemyColor],this.game.positions)&&(this.say("info","The enemy is under check"),e.haveMoves[this.game.enemyColor]||(this.gameOver=!0,this.clearMessages(),this.say("info","You won! The enemy is checkmated!")))},handleSquareClick(t,e){this.selectedSquare?(this.movePiece(this.selectedSquare,{row:t,col:e}),this.removeClassesFromCells(["attack","move","threat"])):this.selectPiece(t,e)},getPieceAtPosition(t=null,e,s){return t||(t=JSON.parse(JSON.stringify(this.game.positions))),t[e]===void 0?null:t[e][s]||null},selectPiece(t,e){if(!this.game.canMove)return;const s=this.getPieceAtPosition(null,t,e);s&&s.color===this.game.myColor&&(this.selectedSquare={row:t,col:e},this.addClassToCells([this.selectedSquare],"selected"),this.addClassToCells(s.attacks??[],"attack"),this.addClassToCells(s.moves??[],"move"),this.addClassToCells(s.threats??[],"threat"),s!=null&&s.castings&&((s==null?void 0:s.moved)??null)===!1&&s.castings.forEach(n=>{this.addClassToCells([n.clickable],"casting")}))},movePiece(t,e){const s=this.getPieceAtPosition(null,t.row,t.col),n=this.getPieceAtPosition(null,e.row,e.col);let i=!1;if(n&&s.color===n.color&&s.castings&&n.castings){const r=s.castings.find(o=>o.clickable.row===e.row&&o.clickable.col===e.col);r&&(i=!0,r.moves.forEach(o=>{var c,f;const l=this.game.positions[o.from.row][o.from.col];l.moved=!0,delete this.game.positions[o.from.row][o.from.col],(c=this.game.positions)[f=o.to.row]??(c[f]={}),this.game.positions[o.to.row][o.to.col]={...l}}),this.removeMyCastings())}n&&s.attacks.find(r=>r.row===e.row&&r.col===e.col)&&(i=!0,this.doCommonMove(t,e,s),this.game.piecesTaken[this.game.enemyColor].push(n.type),this.$refs.soundOvertake.play()),s.moves.find(r=>r.row===e.row&&r.col===e.col)&&(i=!0,this.doCommonMove(t,e,s),this.$refs.soundSelectPiece.play()),s.type===I.TYPE_PAWN&&(e.row===1||e.row===8)&&this.game.piecesTaken[this.game.myColor].filter(r=>r!==I.TYPE_PAWN).length>0&&(i=!0,this.pawnPromotionPosition=e,this.pawnPromotionShowModal=!0),i?(this.game.canMove=!1,this.reCalculate(this.game),this.socket.emit("updateGame",this.game)):(console.log(`Invalid move FROM: ${JSON.stringify(s)} TO: ${JSON.stringify(n)}`),this.$refs.soundWrongMove.play()),this.deselectAll()},doCommonMove(t,e,s){var n,i;delete this.game.positions[t.row][t.col],(s==null?void 0:s.moved)!==void 0&&(s.moved=!0),(s==null?void 0:s.type)===I.TYPE_KING&&this.removeMyCastings(),(n=this.game.positions)[i=e.row]??(n[i]={}),this.game.positions[e.row][e.col]={...s}},removeMyCastings(){for(let t in this.game.positions){const e=this.game.positions[t];for(let s in e){t=+t,s=+s;const n=this.game.positions[t][s];((n==null?void 0:n.type)??null)!==null&&n.color===this.game.myColor&&[I.TYPE_ROOK,I.TYPE_KING].includes(n.type)&&delete n.castings}}},pawnPromotion(t){console.log("this.game.canMove",this.game.canMove),this.pawnPromotionShowModal=!1,this.game.piecesTaken[this.game.myColor].splice(this.game.piecesTaken[this.game.myColor].indexOf(t),1),this.game.positions[this.pawnPromotionPosition.row][this.pawnPromotionPosition.col]={type:t,color:this.game.myColor},this.reCalculate(this.game),this.socket.emit("updateGame",this.game)},deselectAll(){this.selectedSquare=null,this.removeClassesFromCells(["selected","validMove","casting"])},decorateUnderCheck(t=!1){t&&this.addClassToCells([{row:this.myKingPosition.row,col:this.myKingPosition.col}],"check")},addClassToCells(t,e){t.forEach(s=>{const n=document.querySelector(`.sq-${s.row}-${s.col}`);n&&n.classList.add(e)})},removeClassesFromCells(t){document.querySelectorAll(".square").forEach(s=>{t.forEach(n=>{s.classList.remove(n)})})},handleKeyPress(){event.keyCode===27&&(console.log("Escape key pressed"),this.deselectAll())},handleClick(t){let e=t.target,s=!0;for(;e;)e.classList.contains("chess-board")&&(s=!1),e=e.parentElement;s&&(console.log("Click outside chessboard"),this.deselectAll())},clearMessages(){this.$refs.messages.innerHTML=""},say(t,e){this.$refs.messages.innerHTML=`<p class="${t}">${e}</p>`}}},Nc={class:"chess-board",ref:"board"},Bc={class:"fader"},Fc=["onClick"],$c={class:"panel"},Kc={ref:"messages"},Dc={ref:"soundSelectPiece",preload:"auto"},Uc=K("source",{src:Sc,type:"audio/mpeg"},null,-1),qc=[Uc],Vc={ref:"soundWrongMove",preload:"auto"},Hc=K("source",{src:Pc,type:"audio/mpeg"},null,-1),Wc=[Hc],jc={ref:"soundOvertake",preload:"auto"},Yc=K("source",{src:Mc,type:"audio/mpeg"},null,-1),Gc=[Yc],Jc={ref:"soundGameUpdated",preload:"auto"},zc=K("source",{src:Ic,type:"audio/mpeg"},null,-1),Xc=[zc],Qc=["onClick"];function Zc(t,e,s,n,i,r){const o=$s("ChessPiece"),l=$s("Modal");return ce(),we(Z,null,[K("div",Nc,[Yo(K("div",Bc,null,512),[[jl,this.gameOver]]),(ce(),we(Z,null,xs(8,c=>K("div",{key:c,class:"row"},[(ce(),we(Z,null,xs(8,f=>K("div",{key:f,class:at("square sq-"+this.calcRow(c)+"-"+f),onClick:d=>r.handleSquareClick(this.calcRow(c),f)},[r.getPieceAtPosition(null,this.calcRow(c),f)?(ce(),yn(o,{key:0,index:"index",type:r.getPieceAtPosition(null,this.calcRow(c),f).type,color:r.getPieceAtPosition(null,this.calcRow(c),f).color},null,8,["type","color"])):Tt("",!0)],10,Fc)),64))])),64))],512),K("div",$c,[K("div",null,[K("a",{class:"colorBtn any",onClick:e[0]||(e[0]=c=>r.cancelTheGame()),href:"#"},"Cancel this game")]),K("div",Kc,null,512)]),K("audio",Dc,qc,512),K("audio",Vc,Wc,512),K("audio",jc,Gc,512),K("audio",Jc,Xc,512),ge(l,{show:this.pawnPromotionShowModal},{default:Qi(()=>[(ce(!0),we(Z,null,xs(this.game.piecesTaken[this.game.myColor].filter(c=>c!=="pawn"),c=>(ce(),we("div",{onClick:f=>this.pawnPromotion(c),class:at("chess-piece "+c+"-"+this.game.myColor)},null,10,Qc))),256))]),_:1},8,["show"])],64)}const ea=ds(Lc,[["render",Zc]]),Pe=Object.create(null);Pe.open="0";Pe.close="1";Pe.ping="2";Pe.pong="3";Pe.message="4";Pe.upgrade="5";Pe.noop="6";const Yt=Object.create(null);Object.keys(Pe).forEach(t=>{Yt[Pe[t]]=t});const js={type:"error",data:"parser error"},Cr=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Er=typeof ArrayBuffer=="function",xr=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,En=({type:t,data:e},s,n)=>Cr&&e instanceof Blob?s?n(e):pi(e,n):Er&&(e instanceof ArrayBuffer||xr(e))?s?n(e):pi(new Blob([e]),n):n(Pe[t]+(e||"")),pi=(t,e)=>{const s=new FileReader;return s.onload=function(){const n=s.result.split(",")[1];e("b"+(n||""))},s.readAsDataURL(t)};function gi(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Ss;function ta(t,e){if(Cr&&t.data instanceof Blob)return t.data.arrayBuffer().then(gi).then(e);if(Er&&(t.data instanceof ArrayBuffer||xr(t.data)))return e(gi(t.data));En(t,!1,s=>{Ss||(Ss=new TextEncoder),e(Ss.encode(s))})}const mi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<mi.length;t++)vt[mi.charCodeAt(t)]=t;const sa=t=>{let e=t.length*.75,s=t.length,n,i=0,r,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),d=new Uint8Array(f);for(n=0;n<s;n+=4)r=vt[t.charCodeAt(n)],o=vt[t.charCodeAt(n+1)],l=vt[t.charCodeAt(n+2)],c=vt[t.charCodeAt(n+3)],d[i++]=r<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return f},na=typeof ArrayBuffer=="function",xn=(t,e)=>{if(typeof t!="string")return{type:"message",data:Tr(t,e)};const s=t.charAt(0);return s==="b"?{type:"message",data:ia(t.substring(1),e)}:Yt[s]?t.length>1?{type:Yt[s],data:t.substring(1)}:{type:Yt[s]}:js},ia=(t,e)=>{if(na){const s=sa(t);return Tr(s,e)}else return{base64:!0,data:t}},Tr=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Or=String.fromCharCode(30),ra=(t,e)=>{const s=t.length,n=new Array(s);let i=0;t.forEach((r,o)=>{En(r,!1,l=>{n[o]=l,++i===s&&e(n.join(Or))})})},oa=(t,e)=>{const s=t.split(Or),n=[];for(let i=0;i<s.length;i++){const r=xn(s[i],e);if(n.push(r),r.type==="error")break}return n};function la(){return new TransformStream({transform(t,e){ta(t,s=>{const n=s.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const r=new DataView(i.buffer);r.setUint8(0,126),r.setUint16(1,n)}else{i=new Uint8Array(9);const r=new DataView(i.buffer);r.setUint8(0,127),r.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(s)})}})}let Ps;function Dt(t){return t.reduce((e,s)=>e+s.length,0)}function Ut(t,e){if(t[0].length===e)return t.shift();const s=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)s[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),s}function ca(t,e){Ps||(Ps=new TextDecoder);const s=[];let n=0,i=-1,r=!1;return new TransformStream({transform(o,l){for(s.push(o);;){if(n===0){if(Dt(s)<1)break;const c=Ut(s,1);r=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Dt(s)<2)break;const c=Ut(s,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Dt(s)<8)break;const c=Ut(s,8),f=new DataView(c.buffer,c.byteOffset,c.length),d=f.getUint32(0);if(d>Math.pow(2,53-32)-1){l.enqueue(js);break}i=d*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Dt(s)<i)break;const c=Ut(s,i);l.enqueue(xn(r?c:Ps.decode(c),e)),n=0}if(i===0||i>t){l.enqueue(js);break}}}})}const Ar=4;function Y(t){if(t)return aa(t)}function aa(t){for(var e in Y.prototype)t[e]=Y.prototype[e];return t}Y.prototype.on=Y.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Y.prototype.once=function(t,e){function s(){this.off(t,s),e.apply(this,arguments)}return s.fn=e,this.on(t,s),this};Y.prototype.off=Y.prototype.removeListener=Y.prototype.removeAllListeners=Y.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+t];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<s.length;i++)if(n=s[i],n===e||n.fn===e){s.splice(i,1);break}return s.length===0&&delete this._callbacks["$"+t],this};Y.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),s=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(s){s=s.slice(0);for(var n=0,i=s.length;n<i;++n)s[n].apply(this,e)}return this};Y.prototype.emitReserved=Y.prototype.emit;Y.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Y.prototype.hasListeners=function(t){return!!this.listeners(t).length};const pe=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())();function Rr(t,...e){return e.reduce((s,n)=>(t.hasOwnProperty(n)&&(s[n]=t[n]),s),{})}const ua=pe.setTimeout,fa=pe.clearTimeout;function ps(t,e){e.useNativeTimers?(t.setTimeoutFn=ua.bind(pe),t.clearTimeoutFn=fa.bind(pe)):(t.setTimeoutFn=pe.setTimeout.bind(pe),t.clearTimeoutFn=pe.clearTimeout.bind(pe))}const ha=1.33;function da(t){return typeof t=="string"?pa(t):Math.ceil((t.byteLength||t.size)*ha)}function pa(t){let e=0,s=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?s+=1:e<2048?s+=2:e<55296||e>=57344?s+=3:(n++,s+=4);return s}function ga(t){let e="";for(let s in t)t.hasOwnProperty(s)&&(e.length&&(e+="&"),e+=encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return e}function ma(t){let e={},s=t.split("&");for(let n=0,i=s.length;n<i;n++){let r=s[n].split("=");e[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return e}class ya extends Error{constructor(e,s,n){super(e),this.description=s,this.context=n,this.type="TransportError"}}class Tn extends Y{constructor(e){super(),this.writable=!1,ps(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,s,n){return super.emitReserved("error",new ya(e,s,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const s=xn(e,this.socket.binaryType);this.onPacket(s)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,s={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const s=ga(e);return s.length?"?"+s:""}}const kr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ys=64,_a={};let yi=0,qt=0,_i;function wi(t){let e="";do e=kr[t%Ys]+e,t=Math.floor(t/Ys);while(t>0);return e}function Sr(){const t=wi(+new Date);return t!==_i?(yi=0,_i=t):t+"."+wi(yi++)}for(;qt<Ys;qt++)_a[kr[qt]]=qt;let Pr=!1;try{Pr=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const wa=Pr;function Mr(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||wa))return new XMLHttpRequest}catch{}if(!e)try{return new pe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function ba(){}const va=function(){return new Mr({xdomain:!1}).responseType!=null}();class Ca extends Tn{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}const s=e&&e.forceBase64;this.supportsBinary=va&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const s=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||s()})),this.writable||(n++,this.once("drain",function(){--n||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const s=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};oa(e,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,ra(e,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=Sr()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(e,s)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new ke(this.uri(),e)}doWrite(e,s){const n=this.request({method:"POST",data:e});n.on("success",s),n.on("error",(i,r)=>{this.onError("xhr post error",i,r)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(s,n)=>{this.onError("xhr poll error",s,n)}),this.pollXhr=e}}class ke extends Y{constructor(e,s){super(),ps(this,s),this.opts=s,this.method=s.method||"GET",this.uri=e,this.data=s.data!==void 0?s.data:null,this.create()}create(){var e;const s=Rr(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const n=this.xhr=new Mr(s);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=ke.requestsCount++,ke.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ba,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete ke.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}ke.requestsCount=0;ke.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bi);else if(typeof addEventListener=="function"){const t="onpagehide"in pe?"pagehide":"unload";addEventListener(t,bi,!1)}}function bi(){for(let t in ke.requests)ke.requests.hasOwnProperty(t)&&ke.requests[t].abort()}const On=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,s)=>s(e,0))(),Vt=pe.WebSocket||pe.MozWebSocket,vi=!0,Ea="arraybuffer",Ci=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xa extends Tn{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),s=this.opts.protocols,n=Ci?{}:Rr(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=vi&&!Ci?s?new Vt(e,s):new Vt(e):new Vt(e,s,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],i=s===e.length-1;En(n,this.supportsBinary,r=>{const o={};try{vi&&this.ws.send(r)}catch{}i&&On(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=Sr()),this.supportsBinary||(s.b64=1),this.createUri(e,s)}check(){return!!Vt}}class Ta extends Tn{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const s=ca(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(s).getReader(),i=la();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();const r=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),r())}).catch(l=>{})};r();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let s=0;s<e.length;s++){const n=e[s],i=s===e.length-1;this.writer.write(n).then(()=>{i&&On(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const Oa={websocket:xa,webtransport:Ta,polling:Ca},Aa=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ra=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Gs(t){if(t.length>2e3)throw"URI too long";const e=t,s=t.indexOf("["),n=t.indexOf("]");s!=-1&&n!=-1&&(t=t.substring(0,s)+t.substring(s,n).replace(/:/g,";")+t.substring(n,t.length));let i=Aa.exec(t||""),r={},o=14;for(;o--;)r[Ra[o]]=i[o]||"";return s!=-1&&n!=-1&&(r.source=e,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=ka(r,r.path),r.queryKey=Sa(r,r.query),r}function ka(t,e){const s=/\/{2,9}/g,n=e.replace(s,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Sa(t,e){const s={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,r){i&&(s[i]=r)}),s}let Ir=class it extends Y{constructor(e,s={}){super(),this.binaryType=Ea,this.writeBuffer=[],e&&typeof e=="object"&&(s=e,e=null),e?(e=Gs(e),s.hostname=e.host,s.secure=e.protocol==="https"||e.protocol==="wss",s.port=e.port,e.query&&(s.query=e.query)):s.host&&(s.hostname=Gs(s.host).host),ps(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ma(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const s=Object.assign({},this.opts.query);s.EIO=Ar,s.transport=e,this.id&&(s.sid=this.id);const n=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Oa[e](n)}open(){let e;if(this.opts.rememberUpgrade&&it.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(e){let s=this.createTransport(e),n=!1;it.priorWebsocketSuccess=!1;const i=()=>{n||(s.send([{type:"ping",data:"probe"}]),s.once("packet",w=>{if(!n)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;it.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const C=new Error("probe error");C.transport=s.name,this.emitReserved("upgradeError",C)}}))};function r(){n||(n=!0,d(),s.close(),s=null)}const o=w=>{const C=new Error("probe error: "+w);C.transport=s.name,r(),this.emitReserved("upgradeError",C)};function l(){o("transport closed")}function c(){o("socket closed")}function f(w){s&&w.name!==s.name&&r()}const d=()=>{s.removeListener("open",i),s.removeListener("error",o),s.removeListener("close",l),this.off("close",c),this.off("upgrading",f)};s.once("open",i),s.once("error",o),s.once("close",l),this.once("close",c),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||s.open()},200):s.open()}onOpen(){if(this.readyState="open",it.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const s=this.upgrades.length;for(;e<s;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=e.data,this.onError(s);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(s+=da(i)),n>0&&s>this.maxPayload)return this.writeBuffer.slice(0,n);s+=2}return this.writeBuffer}write(e,s,n){return this.sendPacket("message",e,s,n),this}send(e,s,n){return this.sendPacket("message",e,s,n),this}sendPacket(e,s,n,i){if(typeof s=="function"&&(i=s,s=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const r={type:e,data:s,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),e()},n=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){it.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const s=[];let n=0;const i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&s.push(e[n]);return s}};Ir.protocol=Ar;function Pa(t,e="",s){let n=t;s=s||typeof location<"u"&&location,t==null&&(t=s.protocol+"//"+s.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=s.protocol+t:t=s.host+t),/^(https?|wss?):\/\//.test(t)||(typeof s<"u"?t=s.protocol+"//"+t:t="https://"+t),n=Gs(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const r=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+r+":"+n.port+e,n.href=n.protocol+"://"+r+(s&&s.port===n.port?"":":"+n.port),n}const Ma=typeof ArrayBuffer=="function",Ia=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Lr=Object.prototype.toString,La=typeof Blob=="function"||typeof Blob<"u"&&Lr.call(Blob)==="[object BlobConstructor]",Na=typeof File=="function"||typeof File<"u"&&Lr.call(File)==="[object FileConstructor]";function An(t){return Ma&&(t instanceof ArrayBuffer||Ia(t))||La&&t instanceof Blob||Na&&t instanceof File}function Gt(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let s=0,n=t.length;s<n;s++)if(Gt(t[s]))return!0;return!1}if(An(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Gt(t.toJSON(),!0);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&Gt(t[s]))return!0;return!1}function Ba(t){const e=[],s=t.data,n=t;return n.data=Js(s,e),n.attachments=e.length,{packet:n,buffers:e}}function Js(t,e){if(!t)return t;if(An(t)){const s={_placeholder:!0,num:e.length};return e.push(t),s}else if(Array.isArray(t)){const s=new Array(t.length);for(let n=0;n<t.length;n++)s[n]=Js(t[n],e);return s}else if(typeof t=="object"&&!(t instanceof Date)){const s={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(s[n]=Js(t[n],e));return s}return t}function Fa(t,e){return t.data=zs(t.data,e),delete t.attachments,t}function zs(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]=zs(t[s],e);else if(typeof t=="object")for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(t[s]=zs(t[s],e));return t}const $a=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ka=5;var M;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(M||(M={}));class Da{constructor(e){this.replacer=e}encode(e){return(e.type===M.EVENT||e.type===M.ACK)&&Gt(e)?this.encodeAsBinary({type:e.type===M.EVENT?M.BINARY_EVENT:M.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let s=""+e.type;return(e.type===M.BINARY_EVENT||e.type===M.BINARY_ACK)&&(s+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(s+=e.nsp+","),e.id!=null&&(s+=e.id),e.data!=null&&(s+=JSON.stringify(e.data,this.replacer)),s}encodeAsBinary(e){const s=Ba(e),n=this.encodeAsString(s.packet),i=s.buffers;return i.unshift(n),i}}function Ei(t){return Object.prototype.toString.call(t)==="[object Object]"}class Rn extends Y{constructor(e){super(),this.reviver=e}add(e){let s;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(e);const n=s.type===M.BINARY_EVENT;n||s.type===M.BINARY_ACK?(s.type=n?M.EVENT:M.ACK,this.reconstructor=new Ua(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(An(e)||e.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(e),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let s=0;const n={type:Number(e.charAt(0))};if(M[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===M.BINARY_EVENT||n.type===M.BINARY_ACK){const r=s+1;for(;e.charAt(++s)!=="-"&&s!=e.length;);const o=e.substring(r,s);if(o!=Number(o)||e.charAt(s)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(s+1)==="/"){const r=s+1;for(;++s&&!(e.charAt(s)===","||s===e.length););n.nsp=e.substring(r,s)}else n.nsp="/";const i=e.charAt(s+1);if(i!==""&&Number(i)==i){const r=s+1;for(;++s;){const o=e.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===e.length)break}n.id=Number(e.substring(r,s+1))}if(e.charAt(++s)){const r=this.tryParse(e.substr(s));if(Rn.isPayloadValid(n.type,r))n.data=r;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,s){switch(e){case M.CONNECT:return Ei(s);case M.DISCONNECT:return s===void 0;case M.CONNECT_ERROR:return typeof s=="string"||Ei(s);case M.EVENT:case M.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&$a.indexOf(s[0])===-1);case M.ACK:case M.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ua{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const s=Fa(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const qa=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Rn,Encoder:Da,get PacketType(){return M},protocol:Ka},Symbol.toStringTag,{value:"Module"}));function _e(t,e,s){return t.on(e,s),function(){t.off(e,s)}}const Va=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Nr extends Y{constructor(e,s,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=s,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[_e(e,"open",this.onopen.bind(this)),_e(e,"packet",this.onpacket.bind(this)),_e(e,"error",this.onerror.bind(this)),_e(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...s){if(Va.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(s.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const n={type:M.EVENT,data:s};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const o=this.ids++,l=s.pop();this._registerAckCallback(o,l),n.id=o}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,s){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=s;return}const r=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);s.call(this,new Error("operation has timed out"))},i);this.acks[e]=(...o)=>{this.io.clearTimeoutFn(r),s.apply(this,[null,...o])}}emitWithAck(e,...s){const n=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((i,r)=>{s.push((o,l)=>n?o?r(o):i(l):i(o)),this.emit(e,...s)})}_addToQueue(e){let s;typeof e[e.length-1]=="function"&&(s=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...r)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(i)):(this._queue.shift(),s&&s(null,...r)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!e||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:M.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,s)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case M.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case M.EVENT:case M.BINARY_EVENT:this.onevent(e);break;case M.ACK:case M.BINARY_ACK:this.onack(e);break;case M.DISCONNECT:this.ondisconnect();break;case M.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const s=e.data||[];e.id!=null&&s.push(this.ack(e.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const n of s)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const s=this;let n=!1;return function(...i){n||(n=!0,s.packet({type:M.ACK,id:e,data:i}))}}onack(e){const s=this.acks[e.id];typeof s=="function"&&(s.apply(this,e.data),delete this.acks[e.id])}onconnect(e,s){this.id=e,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:M.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const s=this._anyListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const s=this._anyOutgoingListeners;for(let n=0;n<s.length;n++)if(e===s[n])return s.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const n of s)n.apply(this,e.data)}}}function pt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}pt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),s=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+s:t-s}return Math.min(t,this.max)|0};pt.prototype.reset=function(){this.attempts=0};pt.prototype.setMin=function(t){this.ms=t};pt.prototype.setMax=function(t){this.max=t};pt.prototype.setJitter=function(t){this.jitter=t};class Xs extends Y{constructor(e,s){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(s=e,e=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,ps(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((n=s.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new pt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=e;const i=s.parser||qa;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var s;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(s=this.backoff)===null||s===void 0||s.setMin(e),this)}randomizationFactor(e){var s;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(s=this.backoff)===null||s===void 0||s.setJitter(e),this)}reconnectionDelayMax(e){var s;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(s=this.backoff)===null||s===void 0||s.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ir(this.uri,this.opts);const s=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=_e(s,"open",function(){n.onopen(),e&&e()}),r=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=_e(s,"error",r);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),r(new Error("timeout")),s.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(_e(e,"ping",this.onping.bind(this)),_e(e,"data",this.ondata.bind(this)),_e(e,"error",this.onerror.bind(this)),_e(e,"close",this.onclose.bind(this)),_e(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(s){this.onclose("parse error",s)}}ondecoded(e){On(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,s){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Nr(this,e,s),this.nsps[e]=n),n}_destroy(e){const s=Object.keys(this.nsps);for(const n of s)if(this.nsps[n].active)return;this._close()}_packet(e){const s=this.encoder.encode(e);for(let n=0;n<s.length;n++)this.engine.write(s[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},s);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const wt={};function Jt(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const s=Pa(t,e.path||"/socket.io"),n=s.source,i=s.id,r=s.path,o=wt[i]&&r in wt[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new Xs(n,e):(wt[i]||(wt[i]=new Xs(n,e)),c=wt[i]),s.query&&!e.query&&(e.query=s.queryKey),c.socket(s.path,e)}Object.assign(Jt,{Manager:Xs,Socket:Nr,io:Jt,connect:Jt});const Ha={name:"App",components:{ChessBoard:ea},data(){return{myColor:null,game:null,socket:Jt(I.URL_BE)}},created(){this.socket.connect(),this.socket.on("game",t=>{this.game=t}),this.socket.on("disconnect",()=>{console.log("disconnected by the server, reconnecting..."),this.socket.emit("ping",{playerId:this.game.playerId})})},methods:{selectColor(t){this.myColor=t,this.socket.emit("newPlayer",{color:t})}}},kn=t=>(Lo("data-v-1b4cc768"),t=t(),No(),t),Wa={key:0},ja=kn(()=>K("h1",null,"Select your color",-1)),Ya={class:"colorContainer"},Ga={key:1},Ja=kn(()=>K("h1",null,"Wait Room",-1)),za=kn(()=>K("p",null,"Searching for an opponent...",-1)),Xa=[Ja,za],Qa={key:2};function Za(t,e,s,n,i,r){const o=$s("ChessBoard");return ce(),we(Z,null,[i.myColor?Tt("",!0):(ce(),we("section",Wa,[ja,K("div",Ya,[K("a",{class:"colorBtn white",onClick:e[0]||(e[0]=l=>r.selectColor("white")),href:"#"},"Whites"),K("a",{class:"colorBtn black",onClick:e[1]||(e[1]=l=>r.selectColor("black")),href:"#"},"Blacks"),K("a",{class:"colorBtn any",onClick:e[2]||(e[2]=l=>r.selectColor("any")),href:"#"},"Any")])])),i.myColor&&!i.game?(ce(),we("section",Ga,Xa)):Tt("",!0),this.game?(ce(),we("section",Qa,[K("h1",null,[_r("Game "),K("b",null,Qr(this.game.canMove?"Your turn":"Waiting other side"),1)]),ge(o,{socket:i.socket,game:this.game},null,8,["socket","game"])])):Tt("",!0)],64)}const eu=ds(Ha,[["render",Za],["__scopeId","data-v-1b4cc768"]]),tu=uc(eu);tu.mount("#app");
